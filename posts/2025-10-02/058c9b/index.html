<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>OCR SOTA trên thiết bị với Core ML và dots.ocr | AI Today - SkyAI</title>

<meta name="description" content="">
      <link rel="stylesheet" href="/css/main.min.584aed796ba9d245f84009d57da9662e9c02059611972780263728b442fc25ff.css" integrity="sha256-WErteWup0kX4QAnVfalmLpwCBZYRlyeAJjcotEL8Jf8=" crossorigin="anonymous">

<link rel="icon" type="image/svg+xml" href="https://aitoday.skyai.vn/favicon.svg"> 
<link rel="icon" type="image/x-icon" href="https://aitoday.skyai.vn/favicon.ico"> 
<link rel="icon" type="image/png" sizes="16x16" href="https://aitoday.skyai.vn/favicon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="https://aitoday.skyai.vn/favicon-32.png"> 
<link rel="icon" type="image/png" sizes="64x64" href="https://aitoday.skyai.vn/favicon-64.png"> 

</head>
<body>
  <header class="py-6 border-b"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col">
	<div class="flex items-center">
		<div class="flex items-center">
			<button class="flex items-center space-x-2 rounded-full border py-1 pr-[5px] pl-3 group bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="menu-bar">
				<svg width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
					<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
				</svg>
				<span class="bg-blue-500 fill-white rounded-full p-1.5">
					<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="group-hover:animate-spin bi bi-egg-fried fill-white" viewBox="0 0 16 16">
						<path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
						<path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"></path>
					</svg>
				</span>
			</button>
			<div class="relative rounded-full py-1.5 px-6 bg-zinc-100 hover:bg-zinc-200 text-xl font-bold uppercase mx-2">
				<h2><a class="before:content-[''] before:z-10 before:top-0 before:right-0 before:left-0 before:bottom-0 before:absolute before:pointer-events-auto" href="https://aitoday.skyai.vn/">AI Today - SkyAI</a></h2>
			</div>
		</div>
		<div class="flex items-center ml-auto">
			<button class="flex items-center rounded-full p-3 bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="search-bar">
				<svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
					<path id="path1" class="transition-all ease-linear" d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
					<path id="path2" class="transition-all ease-linear hidden" d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
				</svg>
			</button>
		</div>
	</div>
  <nav id="menu-bar" class="block mt-3 close">
    <ul class="flex items-center flex flex-nowrap whitespace-nowrap overflow-x-auto space-x-4">
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/">Home</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200">About</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/tags/">Tags</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/tags/">Taxonomy</a>
    </li>
    </ul>
  </nav>
<div id="search-bar" class="block mt-3 close">
	<form id="search" class="flex items-stretch">
		<input class="w-full block px-6 py-2 rounded-l-full focus:outline-none border border-zinc-200" type="text" placeholder="Search...">
		<button class="flex items-center px-7 py-2.5 rounded-r-full border border-zinc-200 ">
			<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="group-hover:animate-pulse" viewBox="0 0 16 16">
				<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
			</svg>
		</button>
	</form>
</div>
</div></header>
  <main class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8"><div id="breadcrumb" class="max-w-7xl mx-auto py-8">
	<ul class="flex space-x-4 text-sm text-zinc-500">
		<li class="after:content-['❯'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="https://aitoday.skyai.vn/">AI Today - SkyAI</a>
		</li>
		<li class="after:content-['❯'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="https://aitoday.skyai.vn/posts/">Posts</a>
		</li>
	</ul>
</div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-14">

  <article class="md:col-span-2 prose lg:prose-lg">

    <header class="not-prose">
      
      <h1 id="title" class="text-4xl font-bold leading-normal">OCR SOTA trên thiết bị với Core ML và dots.ocr</h1>

      <div id="lead" class="my-6">

        <p class="font-bold"> </p>

      </div>
      
      <div id="writer" class="flex items-center space-x-4"><ul class="flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto">
          
          <li class="font-semibold my-2"></li>
          
          <li class="before:content-['•'] before:mr-2 before:opacity-50 my-2"><time datetime="2025-10-02T00:00:00&#43;00:00">October 2, 2025</time>
          </li>

          <li class="before:content-['•'] before:mr-2 before:opacity-50 my-2">
            10 min read
          </li>

        </ul>

      </div>
      
    </header>

    <figure id="featureimage" class="rounded-xl aspect-video">

          <img class="rounded-lg" src="https://huggingface.co/blog/assets/dots-ocr-ne/dots_header.png" alt="OCR SOTA trên thiết bị với Core ML và dots.ocr">
        <figcaption class="text-center italic text-xs"></figcaption>

    </figure>

    <div id="content" class="mb-14">
      <h1 id="sota-ocr-trên-thiết-bị-với-core-ml-và-dotsocr">SOTA OCR trên thiết bị với Core ML và dots.ocr</h1>
<p>Mỗi năm phần cứng của chúng ta mạnh hơn một chút, các mô hình của chúng ta thông minh hơn một chút cho mỗi tham số. Vào năm 2025, việc chạy các mô hình thực sự cạnh tranh trên thiết bị trở nên khả thi hơn bao giờ hết. <a href="https://huggingface.co/rednote-hilab/dots.ocr">dots.ocr</a>, một mô hình OCR 3B tham số từ RedNote, vượt qua Gemini 2.5 Pro trong <a href="https://github.com/opendatalab/OmniDocBench">OmniDocBench</a>, biến OCR trở thành một trường hợp sử dụng trên thiết bị thực sự không thỏa hiệp. Việc chạy các mô hình trên thiết bị chắc chắn hấp dẫn đối với các nhà phát triển: không cần buôn lậu khóa API, không tốn chi phí và không cần mạng. Tuy nhiên, nếu chúng ta muốn các mô hình này chạy trên thiết bị, chúng ta cần lưu ý đến ngân sách tính toán và năng lượng hạn chế.</p>
<p>Đi vào Neural Engine, bộ tăng tốc AI tùy chỉnh của Apple đã được xuất xưởng với mọi thiết bị Apple kể từ năm 2017. Bộ tăng tốc này được thiết kế để có hiệu suất cao trong khi vẫn tiết kiệm pin. Một số thử nghiệm của chúng tôi đã cho thấy Neural Engine <strong>hiệu quả năng lượng hơn 12 lần so với CPU</strong> và <strong>hiệu quả năng lượng hơn 4 lần so với GPU</strong>.</p>
<!-- raw HTML omitted -->
<p>Mặc dù tất cả những điều này nghe có vẻ rất hấp dẫn, nhưng thật không may, Neural Engine chỉ có thể truy cập được thông qua <a href="https://developer.apple.com/documentation/coreml">Core ML</a>, khung ML <em>mã nguồn đóng</em> của Apple. Hơn nữa, ngay cả việc chuyển đổi một mô hình từ PyTorch sang Core ML cũng có thể gây ra một số thách thức và nếu không có mô hình được chuyển đổi trước hoặc một số kiến thức về các cạnh sắc, nó có thể gây khó khăn cho các nhà phát triển. May mắn thay, Apple cũng cung cấp <a href="https://developer.apple.com/documentation/machinelearning/mlx">MLX</a>, một khung ML hiện đại và linh hoạt hơn nhắm mục tiêu đến GPU (không phải Neural Engine) và có thể được sử dụng kết hợp với Core ML.</p>
<!-- raw HTML omitted -->
<p>Trong loạt bài gồm ba phần này, chúng tôi sẽ cung cấp một <em>dấu vết lý luận</em> về cách chúng tôi chuyển đổi <code>dots.ocr</code> để chạy trên thiết bị, sử dụng kết hợp <code>CoreML</code> và <code>MLX</code>. Quá trình này sẽ áp dụng được cho nhiều mô hình khác và chúng tôi hy vọng rằng điều này sẽ giúp làm nổi bật các ý tưởng và công cụ cần thiết cho các nhà phát triển đang tìm cách chạy các mô hình của riêng họ trên thiết bị.</p>
<p>Để theo dõi, hãy nhân bản <a href="https://github.com/FL33TW00D/dots.ocr.ne">repo</a>. Bạn sẽ cần cài đặt <code>uv</code> và <code>hf</code> để chạy lệnh thiết lập:</p>
<p>bash
./boostrap.sh</p>
<p>Nếu bạn chỉ muốn bỏ qua và sử dụng mô hình đã chuyển đổi, bạn có thể tải xuống <a href="https://huggingface.co/FL33TW00D/dots.ocr.ne">tại đây</a>.</p>
<h2 id="chuyển-đổi">Chuyển đổi</h2>
<p>Chuyển đổi từ PyTorch sang CoreML là một quá trình gồm hai bước:</p>
<ol>
<li>Chụp biểu đồ thực thi PyTorch của bạn (thông qua <a href="https://docs.pytorch.org/docs/stable/generated/torch.jit.trace.html"><code>torch.jit.trace</code></a> hoặc phương pháp hiện đại hơn của <a href="https://docs.pytorch.org/docs/stable/export.html"><code>torch.export</code></a>).</li>
<li>Biên dịch biểu đồ đã chuyển đổi này thành <code>.mlpackage</code> bằng cách sử dụng <a href="https://github.com/apple/coremltools"><code>coremltools</code></a>.</li>
</ol>
<p>Mặc dù chúng ta có một vài núm điều chỉnh mà chúng ta có thể tinh chỉnh cho bước 2, nhưng hầu hết quyền kiểm soát của chúng ta nằm ở bước 1, biểu đồ mà chúng ta cung cấp cho <code>coremltools</code>.</p>
<p>Tuân theo câu thần chú của lập trình viên về <a href="https://wiki.c2.com/?MakeItWorkMakeItRightMakeItFast"><code>make it work, make it right, make it fast</code></a>, trước tiên chúng ta sẽ tập trung vào việc làm cho quá trình chuyển đổi hoạt động trên GPU, ở FLOAT32 và với các hình dạng tĩnh. Khi chúng ta đã làm cho nó hoạt động, chúng ta có thể giảm độ chính xác và cố gắng chuyển sang Neural Engine.</p>
<h2 id="dotsocr">Dots.OCR</h2>
<p>Dots.OCR bao gồm hai thành phần chính: Một bộ mã hóa hình ảnh 1.2B tham số được đào tạo từ đầu, dựa trên <a href="https://arxiv.org/pdf/2307.06304">kiến trúc NaViT</a> và một xương sống Qwen2.5-1.5B. Chúng ta sẽ sử dụng <code>CoreML</code> để chạy bộ mã hóa hình ảnh và <code>MLX</code> để chạy xương sống LM.</p>
<h2 id="bước-0-hiểu-và-đơn-giản-hóa-mô-hình">Bước 0: Hiểu và đơn giản hóa mô hình</h2>
<p>Để chuyển đổi một mô hình, tốt nhất là hiểu cấu trúc và chức năng trước khi bắt đầu. Nhìn vào tệp mô hình hóa hình ảnh gốc <a href="https://github.com/FL33TW00D/dots.ocr.ne/blob/12c57588a97584b1c95e811475791e298e04162d/modeling_dots_vision.py">tại đây</a>, chúng ta có thể thấy rằng bộ mã hóa hình ảnh tương tự như họ QwenVL. Giống như nhiều bộ mã hóa hình ảnh, bộ mã hóa hình ảnh cho <code>dots</code> hoạt động trên cơ sở vá, trong trường hợp này là các vá <code>14x14</code>. Bộ mã hóa hình ảnh <code>dots</code> có khả năng xử lý video và hàng loạt hình ảnh. Điều này cho chúng ta cơ hội đơn giản hóa bằng cách chỉ xử lý một hình ảnh tại một thời điểm. Cách tiếp cận này thường xuyên được sử dụng trong các ứng dụng trên thiết bị, nơi chúng ta chuyển đổi một mô hình cung cấp các chức năng thiết yếu và lặp lại nếu chúng ta muốn xử lý nhiều hình ảnh.</p>
<p>Khi bắt đầu quá trình chuyển đổi, tốt nhất là bắt đầu với một mô hình khả thi tối thiểu. Điều này có nghĩa là loại bỏ bất kỳ chuông và còi nào không thực sự cần thiết để mô hình hoạt động. Trong trường hợp của chúng ta, dots có nhiều triển khai chú ý khác nhau có sẵn cho cả bộ mã hóa hình ảnh và xương sống LM. CoreML có rất nhiều cơ sở hạ tầng định hướng xung quanh <a href="https://apple.github.io/coremltools/source/coremltools.converters.mil.mil.ops.defs.html#coremltools.converters.mil.mil.ops.defs.iOS18.transformers.scaled_dot_product_attention">toán tử <code>scaled_dot_product_attention</code></a>, mà họ đã giới thiệu trong iOS 18. Chúng ta có thể đơn giản hóa mô hình bằng cách loại bỏ tất cả các triển khai chú ý khác và chỉ tập trung vào <code>sdpa</code> đơn giản (không phải biến thể tiết kiệm bộ nhớ) cho bây giờ, <a href="https://github.com/FL33TW00D/dots.ocr.ne/commit/d51b0478aacf569146cfd6f6a7542850fe61b11c">cam kết tại đây</a>.</p>
<p>Khi chúng ta đã thực hiện việc này, chúng ta sẽ thấy một thông báo cảnh báo đáng sợ khi chúng ta tải mô hình:</p>
<p>bash
Sliding Window Attention is enabled but not implemented for <code>sdpa</code>; unexpected results may be encountered.</p>
<p>Mô hình không yêu cầu Sliding Window Attention để hoạt động, vì vậy chúng ta có thể vui vẻ tiếp tục.</p>
<h2 id="bước-1-một-bộ-khung-đơn-giản">Bước 1: Một bộ khung đơn giản</h2>
<p>Sử dụng <code>torch.jit.trace</code> vẫn là phương pháp trưởng thành nhất để chuyển đổi mô hình sang CoreML. Chúng ta thường đóng gói nó trong một bộ khung đơn giản cho phép bạn sửa đổi các đơn vị tính toán được sử dụng và độ chính xác được chọn.</p>
<p>Bạn có thể xem bộ khung ban đầu <a href="https://github.com/FL33TW00D/dots.ocr.ne/blob/master/convert.py">tại đây</a>. Nếu chúng ta chạy như sau trên triển khai mã gốc:</p>
<p>bash
uv run convert.py &ndash;precision FLOAT32 &ndash;compute_units CPU_AND_GPU</p>
<p>Chúng ta sẽ gặp phải vấn đề đầu tiên (trong số rất nhiều).</p>
<h2 id="bước-2-săn-lỗi">Bước 2: Săn lỗi</h2>
<p>Hiếm khi một mô hình sẽ chuyển đổi lần đầu tiên. Thông thường, bạn sẽ cần liên tục thực hiện các thay đổi xa hơn và xa hơn xuống biểu đồ thực thi cho đến khi bạn đến nút cuối cùng.</p>
<p>Vấn đề đầu tiên của chúng ta là lỗi sau:</p>
<p>bash
ERROR - converting &lsquo;outer&rsquo; op (located at: &lsquo;vision_tower/rotary_pos_emb/192&rsquo;):
In op &ldquo;matmul&rdquo;, when x and y are both non-const, their dtype need to match, but got x as int32 and y as fp32</p>
<p>May mắn thay, lỗi này cung cấp cho chúng ta khá nhiều thông tin. Chúng ta có thể xem lớp <code>VisionRotaryEmbedding</code> và xem mã sau:</p>
<p>python
def forward(self, seqlen: int) -&gt; torch.Tensor:
seq = torch.arange(seqlen, device=self.inv_freq.device, dtype=self.inv_freq.dtype)
freqs = torch.outer(seq, self.inv_freq)
return freqs</p>
<p>Mặc dù <code>torch.arange</code> có một đối số <code>dtype</code>, <code>coremltools</code> bỏ qua điều này đối với <code>arange</code> và luôn xuất ra <code>int32</code>. Chúng ta có thể chỉ cần thêm một diễn viên sau <code>arange</code> để khắc phục vấn đề này, <a href="https://github.com/FL33TW00D/dots.ocr.ne/commit/fb968c54d35f7331d8b36b53d69e9767daba4ad3">cam kết tại đây</a>.</p>
<p>Sau khi khắc phục điều này, chạy lại quá trình chuyển đổi sẽ dẫn chúng ta đến vấn đề tiếp theo tại <code>repeat_interleave</code>:</p>
<p>bash
ERROR - converting &lsquo;repeat_interleave&rsquo; op (located at: &lsquo;vision_tower/204&rsquo;):
Cannot add const [None]</p>
<p>Mặc dù lỗi này ít thông tin hơn, chúng ta chỉ có một lệnh gọi duy nhất đến <code>repeat_interleave</code> trong bộ mã hóa hình ảnh của chúng ta:</p>
<p>python
cu_seqlens = torch.repeat_interleave(grid_thw[:, 1] * grid_thw[:, 2], grid_thw[:, 0]).cumsum(
dim=0,
dtype=grid_thw.dtype if torch.jit.is_tracing() else torch.int32,
)</p>
<p><a href="https://github.com/Dao-AILab/flash-attention/issues/850"><code>cu_seqlens</code></a> được sử dụng để che giấu các chuỗi có độ dài biến đổi trong <code>flash_attention_2</code>. Nó được bắt nguồn từ tensor <code>grid_thw</code>, đại diện cho <code>time</code>, <code>height</code> và <code>width</code>. Vì chúng ta chỉ xử lý một hình ảnh duy nhất, chúng ta có thể chỉ cần loại bỏ lệnh gọi này, <a href="https://github.com/FL33TW00D/dots.ocr.ne/commit/417512e522b595e5fbddb19c6c66f69db0ecca78">cam kết tại đây</a>.</p>
<p>Vào lần tiếp theo! Lần này, chúng ta nhận được một lỗi khó hiểu hơn:</p>
<p>bash
ERROR - converting &lsquo;<em>internal_op_tensor_inplace_fill</em>&rsquo; op (located at: &lsquo;vision_tower/0/attn/301_internal_tensor_assign_1&rsquo;):
_internal_op_tensor_inplace_fill does not support dynamic index</p>
<p>Điều này lại là do logic che giấu để xử lý các chuỗi có độ dài biến đổi. Vì chúng ta chỉ xử lý một hình ảnh duy nhất (không phải video hoặc hàng loạt hình ảnh), chúng ta không thực sự cần che giấu sự chú ý nào cả! Do đó, chúng ta có thể chỉ cần sử dụng một mặt nạ gồm tất cả <code>True</code>. Để chuẩn bị cho việc chuyển đổi Neural Engine, chúng ta cũng chuyển từ sử dụng mặt nạ boolean sang mặt nạ float gồm tất cả các số không, vì Neural Engine không hỗ trợ tensor <code>bool</code> <a href="https://github.com/FL33TW00D/dots.ocr.ne/commit/9a1cd2a4d9d4d0c0c96aef5265f6bd306f1d603e">cam kết tại đây</a></p>
<p>Với tất cả những điều này được thực hiện, bây giờ mô hình sẽ chuyển đổi thành công sang CoreML! Tuy nhiên, khi chúng ta <em>chạy</em> mô hình, chúng ta sẽ nhận được lỗi sau:</p>
<p>bash
error: &lsquo;mps.reshape&rsquo; op the result shape is not compatible with the input shape</p>
<p>Hình dạng lại này có thể ở nhiều nơi! May mắn thay, chúng ta có thể sử dụng một thông báo cảnh báo trước đó để giúp chúng ta theo dõi vấn đề:</p>
<p>bash
TracerWarning: Iterating over a tensor might cause the trace to be incorrect. Passing a tensor of different shape won&rsquo;t change the number of iterations executed (and might lead to errors or silently give incorrect results).
for t, h, w in grid_thw:</p>
<p>Hầu hết các trình biên dịch ML <a href="https://x.com/tenderizzation/status/1930437803097371080">không thích luồng điều khiển động</a>. May mắn cho chúng ta, vì chúng ta chỉ xử lý một hình ảnh duy nhất, chúng ta có thể chỉ cần loại bỏ vòng lặp và xử lý cặp <code>h, w</code> duy nhất, <a href="https://github.com/FL33TW00D/dots.ocr.ne/commit/c1049e0d53b20c30a612428a84a2b6203b3273f7">cam kết tại đây</a>.</p>
<p>Và ở đó chúng ta có nó! Nếu chúng ta chạy lại quá trình chuyển đổi, chúng ta sẽ thấy rằng mô hình chuyển đổi thành công và phù hợp với độ chính xác PyTorch ban đầu:</p>
<p>bash
Max difference: 0.006000518798828125, Mean difference: 1.100682402466191e-05</p>
<h2 id="bước-3-điểm-chuẩn">Bước 3: Điểm chuẩn</h2>
<p>Bây giờ chúng ta đã có mô hình hoạt động, hãy đánh giá kích thước và hiệu suất. Tin tốt là mô hình đang hoạt động, tin xấu là nó hơn 5GB! Điều này hoàn toàn không thể chấp nhận được đối với việc triển khai trên thiết bị!
Để đánh giá thời gian tính toán, chúng ta có thể sử dụng công cụ XCode tích hợp bằng cách gọi:</p>
<p>open DotsOCR_FLOAT32.mlpackage</p>
<p>điều này sẽ khởi chạy trình kiểm tra XCode cho mô hình. Sau khi nhấp vào <code>+ Performance Report</code> và khởi chạy báo cáo trên tất cả các thiết bị tính toán, bạn sẽ thấy điều gì đó như sau:</p>
<!-- raw HTML omitted -->
<p>Hơn một giây cho một lần chuyển tiếp duy nhất của bộ mã hóa hình ảnh! Chúng ta có rất nhiều việc phải làm.</p>
<p>Trong phần thứ hai của loạt bài này, chúng ta sẽ làm việc về sự tích hợp giữa <code>CoreML</code> và <code>MLX</code>, để chạy toàn bộ mô hình trên thiết bị. Trong phần thứ ba, chúng ta sẽ đi sâu vào các tối ưu hóa cần thiết để có được mô hình này chạy trên Neural Engine, bao gồm lượng tử hóa và hình dạng động.</p>
<h3 id="link-bài-viết-gốc"><a href="https://huggingface.co/blog/dots-ocr-ne">Link bài viết gốc</a></h3>


    <ul id="taxonomy" class="not-prose flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto">

      <li class="font-semibold my-4">Tags:</li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/ai/">Ai</a></li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/october-2-2025/">October 2, 2025</a></li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/huggingface.co/">Huggingface.co</a></li>
    </ul>
</div>

    <footer id="content-footer" class="not-prose">

      

      <div id="author-box" class="my-8 md:my-14 border p-8 bg-zinc-100 rounded-2xl">

        <img class="w-20 h-20 rounded-full" src="" alt="">

        <h2 class="text-xl font-bold my-4">Writter by : </h2>

        <p class="mb-4"></p>

        <ul class="flex flex-wrap space-x-4">
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://facebook.com/luat.skyai/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
              </svg>
              <span class="ml-2">Facebook</span>
            </a>
          </li>
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://facebook.com/luat.skyai/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/>
              </svg>
              <span class="ml-2">Twitter</span>
            </a>
          </li>
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://luat.skyai.vn/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>

              </svg>
              <span class="ml-2">Instagram</span>
            </a>
          </li>

        </ul>
        
      </div>

      <div id="related-post" class="">

        <h2 class="text-xl md:text-2xl font-bold mb-6 md:mb-8">Recommended for You</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-09-30/800fa8/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl">

			<img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/intel-qwen3-agent/smolagents-1300-650.png" alt="Tăng tốc Qwen3-8B Agent trên Intel® Core™ Ultra với các Mô hình Nháp được Cắt tỉa Độ sâu" style="width: 100%; height: 100%; object-fit: cover;">

	  </figure>

	<div class="p-6">

		<time datetime="2025-09-30T00:00:00&#43;00:00">Sep 30, 2025</time>

		<h3 class="my-4 text-2xl font-bold">Tăng tốc Qwen3-8B Agent trên Intel® Core™ Ultra với các Mô hình Nháp được Cắt tỉa Độ sâu</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2"></p>

	</div>
</article><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-09-30/6de724/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl">

			<img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/vibegame/thumbnail.png" alt="VibeGame- Khám phá các trò chơi mã hóa Vibe" style="width: 100%; height: 100%; object-fit: cover;">

	  </figure>

	<div class="p-6">

		<time datetime="2025-09-30T00:00:00&#43;00:00">Sep 30, 2025</time>

		<h3 class="my-4 text-2xl font-bold">VibeGame- Khám phá các trò chơi mã hóa Vibe</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2"></p>

	</div>
</article>
          
        </div>
      </div>

    </footer>

  </article>

  
  <aside class="md:col-span-1"><div class="lg:sticky lg:top-8"><div class="rounded-2xl p-4 bg-zinc-100 mb-10">

		<img class="aspect-video rounded" src="/images/email-3249062_1280_by-Muhammad-Ribkhan-Pixabay.jpg" alt="Banner Email Marketing">

		<p class="text-right text-xs mt-2 leading-none text-zinc-500">Adversitiment</p>

</div><div class="space-y-6">

		<h2 class="font-bold text-xl mb-8">Recent Post</h2>

		<article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-10-07/10ab20/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://lh3.googleusercontent.com/fnAx6nksgsvTcj5EDj7bx1yD8sMXwfkBnR6vla-e-h4wZSKFI3a1nFftGvDYyJAk01ZzNr2-QJyqfw30V2_tcp6tE-udCtMCuyou9cBIHyxGnO_mtQ=w400-h225-n-nu" alt="Giới thiệu CodeMender- một tác nhân AI để bảo mật mã" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Giới thiệu CodeMender- một tác nhân AI để bảo mật mã</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-10-04/efc506/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/rteb/thumbnail.png" alt="Giới thiệu RTEB- Một tiêu chuẩn mới để đánh giá khả năng truy xuất thông tin" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Giới thiệu RTEB- Một tiêu chuẩn mới để đánh giá khả năng truy xuất thông tin</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-10-02/058c9b/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/dots-ocr-ne/dots_header.png" alt="OCR SOTA trên thiết bị với Core ML và dots.ocr" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">OCR SOTA trên thiết bị với Core ML và dots.ocr</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-09-30/c047c5/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://www-cdn.anthropic.com/images/4zrzovbb/website/a62b6eb169818f14c35b7a192af269e283f8fa93-1000x1000.svg" alt="Cho phép Mã Claude hoạt động tự chủ hơn" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Cho phép Mã Claude hoạt động tự chủ hơn</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-09-30/b5a357/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://www.microsoft.com/en-us/ai/blog/wp-content/uploads/2025/09/A-man-wearing-a-hardhat-and-carrying-a-digital-tablet-inspects-solar-panels-1024x575.jpg" alt="Cung cấp năng lượng cho tương lai năng lượng của Châu Á-Thái Bình Dương- AI và đổi mới kỹ thuật số cho các tiện ích" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Cung cấp năng lượng cho tương lai năng lượng của Châu Á-Thái Bình Dương- AI và đổi mới kỹ thuật số cho các tiện ích</h3>
	</div>
</article>
		
	</div>

</div>
</aside>

</div>
  
</main>
  <footer class="bg-zinc-100 py-10 md:py-14"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">

  <div class="flex flex-wrap space-y-6 mb-4">

    <div class="w-full md:w-3/5 flex flex-col space-y-4 md:pr-8 lg:pr-10">

      <a class="flex items-center group" href="https://aitoday.skyai.vn/">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="mr-2 group-hover:animate-spin" viewBox="0 0 16 16">
          <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
          <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
        </svg>
        
        <span class="text-2xl font-semibold uppercase">AI Today - SkyAI</span>
      </a>

      <p class="font-semibold">
        Theo dõi các tiến bộ mới nhất về Trí tuệ nhân tạo.<br>Trực tiếp từ các nhà phát hành AI trên thế giới.
      </p>

      <p>Đem trí tuệ nhân tạo đến mọi người dân, doanh nghiệp Việt, góp phần giúp Việt Nam phát triển mạnh mẽ trong kỷ nguyên số. Nội dung được cập nhật tự động bằng máy.</p>

    </div>

    <div class="self-center flex flex-col w-full md:w-2/5">

<ul id="social-media" class="flex items-center space-x-4">
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.facebook.com/luat.skyai/" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
				<path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.twitter.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.github.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.instagram.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path>
			</svg>
		</a>
	</li>
</ul>

    </div>
    
  </div>

  <div class="my-8">
    <ul class="flex items-center space-x-4">
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/">Home</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="">About</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/tags/">Tags</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/tags/">Taxonomy</a></li>
      
    </ul>
  </div>

  <div class="border-t pt-4">

    <p class="text-sm">Copyright © 2025. All rights reserved. <a href="https://home.skyai.vn/" target="_blank" rel="noopener">SkyAI.vn</a></p>

  </div>
  
</div>
</footer>
      <script defer src="/js/insertoggle.474f9b0e08021c6519cff4e46df14ccf148285b2d3a23d6321d6e10f25c291fb.js" integrity="sha256-R0&#43;bDggCHGUZz/TkbfFMzxSChbLToj1jIdbhDyXCkfs=" crossorigin="anonymous"></script>
</body>
</html>