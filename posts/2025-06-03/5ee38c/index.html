<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Kh√¥ng ƒë·ªÉ GPU n√†o b·ªã b·ªè l·∫°i ph√≠a sau- M·ªü kh√≥a hi·ªáu qu·∫£ v·ªõi vLLM ƒë·ªìng v·ªã tr√≠ trong TRL | AI Today - SkyAI</title>

<meta name="description" content="">
      <link rel="stylesheet" href="/css/main.min.584aed796ba9d245f84009d57da9662e9c02059611972780263728b442fc25ff.css" integrity="sha256-WErteWup0kX4QAnVfalmLpwCBZYRlyeAJjcotEL8Jf8=" crossorigin="anonymous">

<link rel="icon" type="image/svg+xml" href="https://aitoday.skyai.vn/favicon.svg"> 
<link rel="icon" type="image/x-icon" href="https://aitoday.skyai.vn/favicon.ico"> 
<link rel="icon" type="image/png" sizes="16x16" href="https://aitoday.skyai.vn/favicon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="https://aitoday.skyai.vn/favicon-32.png"> 
<link rel="icon" type="image/png" sizes="64x64" href="https://aitoday.skyai.vn/favicon-64.png"> 

</head>
<body>
  <header class="py-6 border-b"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col">
	<div class="flex items-center">
		<div class="flex items-center">
			<button class="flex items-center space-x-2 rounded-full border py-1 pr-[5px] pl-3 group bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="menu-bar">
				<svg width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
					<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
				</svg>
				<span class="bg-blue-500 fill-white rounded-full p-1.5">
					<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="group-hover:animate-spin bi bi-egg-fried fill-white" viewBox="0 0 16 16">
						<path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
						<path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"></path>
					</svg>
				</span>
			</button>
			<div class="relative rounded-full py-1.5 px-6 bg-zinc-100 hover:bg-zinc-200 text-xl font-bold uppercase mx-2">
				<h2><a class="before:content-[''] before:z-10 before:top-0 before:right-0 before:left-0 before:bottom-0 before:absolute before:pointer-events-auto" href="https://aitoday.skyai.vn/">AI Today - SkyAI</a></h2>
			</div>
		</div>
		<div class="flex items-center ml-auto">
			<button class="flex items-center rounded-full p-3 bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="search-bar">
				<svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
					<path id="path1" class="transition-all ease-linear" d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
					<path id="path2" class="transition-all ease-linear hidden" d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
				</svg>
			</button>
		</div>
	</div>
  <nav id="menu-bar" class="block mt-3 close">
    <ul class="flex items-center flex flex-nowrap whitespace-nowrap overflow-x-auto space-x-4">
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/">Home</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200">About</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/tags/">Tags</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/tags/">Taxonomy</a>
    </li>
    </ul>
  </nav>
<div id="search-bar" class="block mt-3 close">
	<form id="search" class="flex items-stretch">
		<input class="w-full block px-6 py-2 rounded-l-full focus:outline-none border border-zinc-200" type="text" placeholder="Search...">
		<button class="flex items-center px-7 py-2.5 rounded-r-full border border-zinc-200 ">
			<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="group-hover:animate-pulse" viewBox="0 0 16 16">
				<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
			</svg>
		</button>
	</form>
</div>
</div></header>
  <main class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8"><div id="breadcrumb" class="max-w-7xl mx-auto py-8">
	<ul class="flex space-x-4 text-sm text-zinc-500">
		<li class="after:content-['‚ùØ'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="https://aitoday.skyai.vn/">AI Today - SkyAI</a>
		</li>
		<li class="after:content-['‚ùØ'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
			<a href="https://aitoday.skyai.vn/posts/">Posts</a>
		</li>
	</ul>
</div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-14">

  <article class="md:col-span-2 prose lg:prose-lg">

    <header class="not-prose">
      
      <h1 id="title" class="text-4xl font-bold leading-normal">Kh√¥ng ƒë·ªÉ GPU n√†o b·ªã b·ªè l·∫°i ph√≠a sau- M·ªü kh√≥a hi·ªáu qu·∫£ v·ªõi vLLM ƒë·ªìng v·ªã tr√≠ trong TRL</h1>

      <div id="lead" class="my-6">

        <p class="font-bold"> </p>

      </div>
      
      <div id="writer" class="flex items-center space-x-4"><ul class="flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto">
          
          <li class="font-semibold my-2"></li>
          
          <li class="before:content-['‚Ä¢'] before:mr-2 before:opacity-50 my-2"><time datetime="2025-06-03T00:00:00&#43;00:00">June 3, 2025</time>
          </li>

          <li class="before:content-['‚Ä¢'] before:mr-2 before:opacity-50 my-2">
            19 min read
          </li>

        </ul>

      </div>
      
    </header>

    <figure id="featureimage" class="rounded-xl aspect-video">

          <img class="rounded-lg" src="https://huggingface.co/blog/assets/vllm-colocate/thumbnail.png" alt="Kh√¥ng ƒë·ªÉ GPU n√†o b·ªã b·ªè l·∫°i ph√≠a sau- M·ªü kh√≥a hi·ªáu qu·∫£ v·ªõi vLLM ƒë·ªìng v·ªã tr√≠ trong TRL">
        <figcaption class="text-center italic text-xs"></figcaption>

    </figure>

    <div id="content" class="mb-14">
      <h1 id="kh√¥ng-gpu-n√†o-b·ªã-b·ªè-l·∫°i-ph√≠a-sau-m·ªü-kh√≥a-hi·ªáu-qu·∫£-v·ªõi-vllm-ƒë·ªìng-v·ªã-tr√≠-trong-trl">KH√îNG GPU n√†o b·ªã b·ªè l·∫°i ph√≠a sau: M·ªü kh√≥a hi·ªáu qu·∫£ v·ªõi vLLM ƒë·ªìng v·ªã tr√≠ trong TRL</h1>
<p>TRL h·ªó tr·ª£ hu·∫•n luy·ªán LLM b·∫±ng GRPO, m·ªôt thu·∫≠t to√°n h·ªçc tr·ª±c tuy·∫øn ƒë∆∞·ª£c gi·ªõi thi·ªáu g·∫ßn ƒë√¢y trong b√†i b√°o <em>DeepSeekMath</em>. Trong GRPO, m√¥ h√¨nh h·ªçc h·ªèi t·ª´ ch√≠nh c√°c ƒë·∫ßu ra c·ªßa n√≥: n√≥ t·∫°o ra c√°c ph·∫£n h·ªìi trong qu√° tr√¨nh hu·∫•n luy·ªán, nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi v√† s·ª≠ d·ª•ng ph·∫£n h·ªìi ƒë√≥ ƒë·ªÉ c·∫£i thi·ªán b·∫£n th√¢n theo th·ªùi gian.</p>
<p>ƒêi·ªÅu n√†y l√†m cho qu√° tr√¨nh t·∫°o tr·ªü th√†nh m·ªôt b∆∞·ªõc quan tr·ªçng trong v√≤ng l·∫∑p hu·∫•n luy·ªán ‚Äî v√† c≈©ng l√† m·ªôt n√∫t th·∫Øt l·ªõn. ƒê·ªÉ tƒÉng t·ªëc qu√° tr√¨nh t·∫°o, TRL t√≠ch h·ª£p v·ªõi vLLM. S·ª± k·∫øt h·ª£p n√†y cho ph√©p b·∫°n hu·∫•n luy·ªán c√°c m√¥ h√¨nh m·∫°nh m·∫Ω hi·ªáu qu·∫£ h∆°n trong thi·∫øt l·∫≠p GRPO. Tuy nhi√™n, c√≥ m·ªôt nh∆∞·ª£c ƒëi·ªÉm.</p>
<h2 id="-v·∫•n-ƒë·ªÅ">üß® V·∫•n ƒë·ªÅ</h2>
<p>Tr∆∞·ªõc TRL v0.18.0, vLLM ch·ªâ ƒë∆∞·ª£c h·ªó tr·ª£ ·ªü <strong>ch·∫ø ƒë·ªô m√°y ch·ªß</strong>, ch·∫°y nh∆∞ m·ªôt quy tr√¨nh ri√™ng bi·ªát tr√™n c√°c GPU kh√°c v·ªõi c√¥ng vi·ªác hu·∫•n luy·ªán. N√≥ giao ti·∫øp v·ªõi t·∫≠p l·ªánh hu·∫•n luy·ªán qua HTTP, ƒëi·ªÅu n√†y l√†m cho thi·∫øt l·∫≠p tr·ªü n√™n m√¥-ƒëun v√† d·ªÖ s·ª≠ d·ª•ng ‚Äî nh∆∞ng c≈©ng g√¢y ra s·ª± k√©m hi·ªáu qu·∫£ c·ªßa GPU.</p>
<p>ƒê√¢y l√† nh·ªØng g√¨ x·∫£y ra:</p>
<ul>
<li>Trong qu√° tr√¨nh hu·∫•n luy·ªán, m√¥ h√¨nh c·∫ßn t·∫°o ra c√°c ph·∫ßn ho√†n th√†nh th∆∞·ªùng xuy√™n.</li>
<li>Tr√¨nh hu·∫•n luy·ªán g·ª≠i y√™u c·∫ßu ƒë·∫øn m√°y ch·ªß vLLM, ch·∫°y tr√™n c√°c GPU ri√™ng c·ªßa n√≥.</li>
<li>Trong khi vLLM t·∫°o, c√°c <strong>GPU hu·∫•n luy·ªán ·ªü tr·∫°ng th√°i ch·ªù</strong> v√† ƒë·ª£i.</li>
<li>Sau khi qu√° tr√¨nh t·∫°o xong, <strong>GPU vLLM tr·ªü n√™n nh√†n r·ªói</strong>, v√† qu√° tr√¨nh hu·∫•n luy·ªán ti·∫øp t·ª•c.</li>
</ul>
<p>Qu√° tr√¨nh &ldquo;ping-pong&rdquo; gi·ªØa hu·∫•n luy·ªán v√† t·∫°o ra:</p>
<ul>
<li>L√£ng ph√≠ th·ªùi gian GPU ·ªü c·∫£ hai ph√≠a</li>
<li>TƒÉng nhu c·∫ßu v·ªÅ <strong>GPU b·ªï sung</strong> ch·ªâ ƒë·ªÉ ch·∫°y suy lu·∫≠n</li>
<li>Gi·∫£m <strong>th√¥ng l∆∞·ª£ng t·ªïng th·ªÉ v√† chi ph√≠ cao h∆°n</strong></li>
</ul>
<p>Trong c√°c ph∆∞∆°ng ph√°p h·ªçc tr·ª±c tuy·∫øn nh∆∞ GRPO ‚Äî n∆°i qu√° tr√¨nh t·∫°o di·ªÖn ra li√™n t·ª•c ‚Äî s·ª± k√©m hi·ªáu qu·∫£ n√†y th·∫≠m ch√≠ c√≤n tr·ªü n√™n kh√≥ ch·ªãu h∆°n. B·∫°n chi nhi·ªÅu h∆°n cho ph·∫ßn c·ª©ng, nh∆∞ng kh√¥ng nh·∫≠n ƒë∆∞·ª£c hi·ªáu su·∫•t nh∆∞ mong ƒë·ª£i.</p>
<p><strong>V√¨ v·∫≠y, c√¢u h·ªèi quan tr·ªçng tr·ªü th√†nh:</strong> <em>Li·ªáu ch√∫ng ta c√≥ th·ªÉ chia s·∫ª c√πng m·ªôt GPU cho c·∫£ hu·∫•n luy·ªán v√† t·∫°o, thay v√¨ t√°ch ch√∫ng ra?</em></p>
<h2 id="-c∆°-h·ªôi">üí° C∆° h·ªôi</h2>
<p>V·∫•n ƒë·ªÅ ch√≠nh l√† hu·∫•n luy·ªán v√† suy lu·∫≠n ch·∫°y tr√™n c√°c GPU ri√™ng bi·ªát, d·∫´n ƒë·∫øn th·ªùi gian nh√†n r·ªói v√† s·ª≠ d·ª•ng kh√¥ng h·∫øt c√¥ng su·∫•t. Gi·∫£i ph√°p t·ª± nhi√™n? Ch·∫°y c·∫£ hai tr√™n c√πng m·ªôt GPU. Thay v√¨ ƒë·ªÉ vLLM ho·∫°t ƒë·ªông nh∆∞ m·ªôt m√°y ch·ªß ƒë·ªôc l·∫≠p trong quy tr√¨nh v√† thi·∫øt b·ªã ri√™ng, ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ra n·∫øu vLLM c√≥ th·ªÉ ch·∫°y c√πng v·ªõi m√£ hu·∫•n luy·ªán, trong c√πng m·ªôt nh√≥m quy tr√¨nh ph√¢n t√°n? ƒêi·ªÅu n√†y s·∫Ω cho ph√©p ch√∫ng ta kh·ªüi ch·∫°y m·ªôt c√¥ng vi·ªác ph√¢n t√°n duy nh·∫•t, n∆°i hu·∫•n luy·ªán v√† suy lu·∫≠n chia s·∫ª c√πng m·ªôt thi·∫øt b·ªã, chuy·ªÉn ƒë·ªïi gi·ªØa c√°c t√°c v·ª• m·ªôt c√°ch hi·ªáu qu·∫£ m√† kh√¥ng l√£ng ph√≠ t√†i nguy√™n.</p>
<p>Ph∆∞∆°ng ph√°p n√†y l√† nh·ªØng g√¨ ch√∫ng ta g·ªçi l√† <strong>ƒë·ªìng v·ªã tr√≠</strong>. Hu·∫•n luy·ªán v√† suy lu·∫≠n ƒë∆∞·ª£c ƒë·ªìng v·ªã tr√≠ tr√™n c√πng m·ªôt GPU v√† ƒë∆∞·ª£c ƒëi·ªÅu ph·ªëi th√¥ng qua c√πng m·ªôt nh√≥m quy tr√¨nh, cho ph√©p ch√∫ng thay phi√™n nhau m·ªôt c√°ch tr∆°n tru ‚Äî kh√¥ng c·∫ßn th√™m ph·∫ßn c·ª©ng.</p>
<p>Tr∆∞·ªõc ƒë√¢y, ƒëi·ªÅu n√†y l√† kh√¥ng th·ªÉ trong TRL, d·ª±a v√†o vLLM nh∆∞ m·ªôt m√°y ch·ªß HTTP b√™n ngo√†i. ƒêi·ªÅu ƒë√≥ ƒë√£ thay ƒë·ªïi v·ªõi <!-- raw HTML omitted -->PR #3394<!-- raw HTML omitted --> c·ªßa ch√∫ng t√¥i, ƒë√£ th√™m h·ªó tr·ª£ cho tr√¨nh kh·ªüi ch·∫°y b√™n ngo√†i c·ªßa vLLM v√† t√≠ch h·ª£p th·ª±c s·ª± v√†o quy tr√¨nh hu·∫•n luy·ªán.</p>
<h3 id="nh·ªØng-g√¨-n√≥-cho-ph√©p">Nh·ªØng g√¨ n√≥ cho ph√©p</h3>
<ul>
<li><strong>Th·ª±c thi th·ªëng nh·∫•t</strong>: B·∫±ng c√°ch nh√∫ng vLLM v√†o c√πng m·ªôt nh√≥m quy tr√¨nh, c·∫£ t√°c v·ª• hu·∫•n luy·ªán v√† suy lu·∫≠n c√≥ th·ªÉ chia s·∫ª c√πng m·ªôt GPU, thay phi√™n nhau thay v√¨ ch·ªù ƒë·ª£i l·∫´n nhau. ƒêi·ªÅu n√†y l√†m gi·∫£m th·ªùi gian nh√†n r·ªói v√† tƒÉng hi·ªáu qu·∫£ t·ªïng th·ªÉ.</li>
<li><strong>B·ªè qua giao ti·∫øp HTTP</strong>: Kh√¥ng c·∫ßn g·ªçi API REST ho·∫∑c k·∫øt n·ªëi m·∫°ng ‚Äî vLLM ch·∫°y n·ªôi tuy·∫øn v·ªõi v√≤ng l·∫∑p hu·∫•n luy·ªán, tr√°nh ƒë∆∞·ª£c chi ph√≠ v√† ƒë·ªô tr·ªÖ.</li>
<li><strong>Kh·∫£ nƒÉng t∆∞∆°ng th√≠ch Torchrun</strong>: Ho·∫°t ƒë·ªông li·ªÅn m·∫°ch v·ªõi <code>torchrun</code>, v√¨ v·∫≠y r·∫•t d·ªÖ d√†ng m·ªü r·ªông quy m√¥ tr√™n c√°c n√∫t v·ªõi nh·ªØng thay ƒë·ªïi c·∫•u h√¨nh t·ªëi thi·ªÉu.</li>
<li><strong>H·ªó tr·ª£ TP v√† DP</strong>: T∆∞∆°ng th√≠ch v·ªõi t√≠nh song song tensor v√† t√≠nh song song d·ªØ li·ªáu, l√†m cho n√≥ ph√π h·ª£p v·ªõi c√°c l·∫ßn ch·∫°y hu·∫•n luy·ªán quy m√¥ l·ªõn.</li>
<li><strong>M√¥ h√¨nh th·ª±c thi SPMD</strong>: S·ª≠ d·ª•ng m√¥ h√¨nh Single Program, Multiple Data (SPMD), trong ƒë√≥ m·ªói GPU ch·∫°y phi√™n b·∫£n c√¥ng c·ª• c·ªßa ri√™ng m√¨nh ƒë·ªìng b·ªô. L√Ω t∆∞·ªüng cho thi·∫øt l·∫≠p ƒëa GPU, ƒëa n√∫t ph√¢n t√°n.</li>
<li><strong>Tri·ªÉn khai ƒë∆°n gi·∫£n h√≥a</strong>: B·∫°n kh√¥ng c√≤n c·∫ßn duy tr√¨ t·∫≠p l·ªánh m√°y ch·ªß ri√™ng ‚Äî vLLM ƒë∆∞·ª£c kh·ªüi ch·∫°y v√† ki·ªÉm so√°t tr·ª±c ti·∫øp b√™n trong c√¥ng vi·ªác hu·∫•n luy·ªán c·ªßa b·∫°n.</li>
<li><strong>Th√¥ng l∆∞·ª£ng n√¢ng cao</strong>: B·∫±ng c√°ch tr√°nh GPU nh√†n r·ªói v√† lo·∫°i b·ªè giao ti·∫øp gi·ªØa c√°c quy tr√¨nh, h·ªá th·ªëng cung c·∫•p qu√° tr√¨nh hu·∫•n luy·ªán v√† t·∫°o nhanh h∆°n, ƒë·∫∑c bi·ªát quan tr·ªçng trong thi·∫øt l·∫≠p h·ªçc tr·ª±c tuy·∫øn nh∆∞ GRPO.</li>
<li><strong>Giao ti·∫øp gi·ªØa c√°c quy tr√¨nh m·∫°nh m·∫Ω</strong>: ƒêi·ªÅu n√†y m·∫°nh m·∫Ω h∆°n v√¨ n√≥ tr√°nh ƒë∆∞·ª£c s·ª± ph·ª©c t·∫°p c·ªßa vi·ªác thi·∫øt l·∫≠p c√°c nh√≥m quy tr√¨nh ph√¢n t√°n gi·ªØa c√°c quy tr√¨nh ƒë·ªôc l·∫≠p, nh∆∞ y√™u c·∫ßu trong ch·∫ø ƒë·ªô m√°y ch·ªß.</li>
</ul>
<p>Nh·ªù t√≠nh nƒÉng n√†y, hu·∫•n luy·ªán v√† suy lu·∫≠n ƒë·ªìng v·ªã tr√≠ kh√¥ng c√≤n l√† m·ªôt b·∫£n hack ‚Äî gi·ªù ƒë√¢y n√≥ l√† <strong>∆∞u ti√™n h√†ng ƒë·∫ßu, c√≥ th·ªÉ m·ªü r·ªông v√† s·∫µn s√†ng cho s·∫£n xu·∫•t</strong>.</p>
<h2 id="-thi·∫øt-k·∫ø-t·ª´-c√°c-m√°y-ch·ªß-ri√™ng-bi·ªát-ƒë·∫øn-gpu-ƒë∆∞·ª£c-chia-s·∫ª">üß© Thi·∫øt k·∫ø: T·ª´ c√°c m√°y ch·ªß ri√™ng bi·ªát ƒë·∫øn GPU ƒë∆∞·ª£c chia s·∫ª</h2>
<p>S·ª± thay ƒë·ªïi t·ª´ TRL m√°y ch·ªß sang TRL ƒë·ªìng v·ªã tr√≠ l√† t·∫•t c·∫£ v·ªÅ vi·ªác s·ª≠ d·ª•ng GPU th√¥ng minh h∆°n. S∆° ƒë·ªì b√™n d∆∞·ªõi cho th·∫•y s·ª± kh√°c bi·ªát:</p>
<p><img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/gpus-design.png" alt="gpus-design"></p>
<h3 id="thi·∫øt-l·∫≠p-trl-m√°y-ch·ªß-h√†ng-tr√™n-c√πng">Thi·∫øt l·∫≠p TRL m√°y ch·ªß (H√†ng tr√™n c√πng)</h3>
<p>Trong thi·∫øt l·∫≠p TRL m√°y ch·ªß, hu·∫•n luy·ªán v√† suy lu·∫≠n ch·∫°y tr√™n c√°c GPU ri√™ng bi·ªát. V√≠ d·ª•:</p>
<ul>
<li>GPU 0 ƒë·∫øn 2 ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ hu·∫•n luy·ªán.</li>
<li>GPU 3 ƒë∆∞·ª£c d√†nh ri√™ng ho√†n to√†n ƒë·ªÉ ch·∫°y vLLM nh∆∞ m·ªôt m√°y ch·ªß ri√™ng bi·ªát.</li>
</ul>
<p>Trong c√°c b∆∞·ªõc hu·∫•n luy·ªán, <strong>GPU 3 ·ªü tr·∫°ng th√°i ch·ªù</strong>. Trong c√°c b∆∞·ªõc t·∫°o (suy lu·∫≠n), <strong>GPU 0‚Äì2 ·ªü tr·∫°ng th√°i ch·ªù</strong> trong khi GPU 3 t·∫°o ra ƒë·∫ßu ra.</p>
<p>ƒêi·ªÅu n√†y d·∫´n ƒë·∫øn:</p>
<ul>
<li>S·ª≠ d·ª•ng GPU kh√¥ng hi·ªáu qu·∫£, v·ªõi c√°c thi·∫øt b·ªã th∆∞·ªùng xuy√™n ch·ªù ƒë·ª£i l·∫´n nhau</li>
<li>GPU b·ªï sung ƒë∆∞·ª£c cung c·∫•p ch·ªâ d√†nh cho suy lu·∫≠n</li>
<li>TƒÉng chi ph√≠ v√† s·ª± ph·ª©c t·∫°p</li>
</ul>
<h3 id="thi·∫øt-l·∫≠p-trl-ƒë·ªìng-v·ªã-tr√≠-h√†ng-d∆∞·ªõi-c√πng">Thi·∫øt l·∫≠p TRL ƒë·ªìng v·ªã tr√≠ (H√†ng d∆∞·ªõi c√πng)</h3>
<p>Ng∆∞·ª£c l·∫°i, thi·∫øt l·∫≠p TRL ƒë·ªìng v·ªã tr√≠ ch·∫°y c·∫£ hu·∫•n luy·ªán v√† vLLM tr√™n <strong>c√πng m·ªôt GPU</strong>. M·ªói GPU:</p>
<ul>
<li>Ch·∫°y v√≤ng l·∫∑p hu·∫•n luy·ªán</li>
<li>Kh·ªüi ch·∫°y m·ªôt c√¥ng c·ª• vLLM trong <strong>c√πng m·ªôt quy tr√¨nh</strong></li>
</ul>
<p>Hu·∫•n luy·ªán v√† suy lu·∫≠n <strong>thay phi√™n nhau</strong> s·ª≠ d·ª•ng t√†i nguy√™n c·ªßa GPU ‚Äî kh√¥ng c·∫ßn thi·∫øt b·ªã chuy√™n d·ª•ng ho·∫∑c quy tr√¨nh ri√™ng bi·ªát.</p>
<p>Thi·∫øt k·∫ø n√†y:</p>
<ul>
<li>Gi·∫£m th·ªùi gian nh√†n r·ªói</li>
<li>Gi·∫£m thi·ªÉu giao ti·∫øp gi·ªØa c√°c quy tr√¨nh v√† HTTP</li>
<li>S·ª≠ d·ª•ng h·∫øt b·ªô nh·ªõ v√† t√≠nh to√°n GPU c√≥ s·∫µn</li>
<li>Cung c·∫•p <strong>th√¥ng l∆∞·ª£ng nhanh h∆°n</strong> m√† kh√¥ng tƒÉng y√™u c·∫ßu v·ªÅ ph·∫ßn c·ª©ng</li>
</ul>
<h2 id="-ghi-ch√∫-tri·ªÉn-khai">üõ†Ô∏è Ghi ch√∫ tri·ªÉn khai</h2>
<p>Thay v√¨ kh·ªüi ch·∫°y vLLM nh∆∞ m·ªôt m√°y ch·ªß, qu√° tr√¨nh hu·∫•n luy·ªán b√¢y gi·ªù kh·ªüi ch·∫°y vLLM <strong>trong quy tr√¨nh</strong> b·∫±ng c√°ch s·ª≠ d·ª•ng tr√¨nh kh·ªüi ch·∫°y b√™n ngo√†i, nh∆∞ ƒë∆∞·ª£c hi·ªÉn th·ªã b√™n d∆∞·ªõi:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>self<span style="color:#f92672">.</span>llm <span style="color:#f92672">=</span> LLM(
</span></span><span style="display:flex;"><span>    model<span style="color:#f92672">=</span>model<span style="color:#f92672">.</span>name_or_path,
</span></span><span style="display:flex;"><span>    tensor_parallel_size<span style="color:#f92672">=</span>args<span style="color:#f92672">.</span>vllm_tensor_parallel_size,
</span></span><span style="display:flex;"><span>    gpu_memory_utilization<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>vllm_gpu_memory_utilization,
</span></span><span style="display:flex;"><span>    max_num_seqs<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>args<span style="color:#f92672">.</span>per_device_train_batch_size
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span> self<span style="color:#f92672">.</span>args<span style="color:#f92672">.</span>gradient_accumulation_steps,
</span></span><span style="display:flex;"><span>    max_model_len<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>max_prompt_length <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>max_completion_length,
</span></span><span style="display:flex;"><span>    distributed_executor_backend<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external_launcher&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Feed identical seed for tp groups to ensure sampling results are the same across workers</span>
</span></span><span style="display:flex;"><span>    seed<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>accelerator<span style="color:#f92672">.</span>process_index <span style="color:#f92672">//</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size,
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>vLLM ƒë·ªìng v·ªã tr√≠ t√¥n tr·ªçng nh√≥m quy tr√¨nh v√† c·∫•u tr√∫c th·ª© h·∫°ng torch.distributed. ƒêi·ªÅu n√†y cho ph√©p vLLM ƒë∆∞·ª£c kh·ªüi t·∫°o c√πng v·ªõi qu√° tr√¨nh hu·∫•n luy·ªán m√† kh√¥ng xung ƒë·ªôt v√† l√†m cho thi·∫øt l·∫≠p TP/DP ho·∫°t ƒë·ªông li·ªÅn m·∫°ch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Create subgroups of ranks for TP, each group with `vllm_tensor_parallel_size` ranks.</span>
</span></span><span style="display:flex;"><span>    self<span style="color:#f92672">.</span>tp_group, _ <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>distributed<span style="color:#f92672">.</span>new_subgroups_by_enumeration(
</span></span><span style="display:flex;"><span>        [
</span></span><span style="display:flex;"><span>            list(range(i <span style="color:#f92672">*</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size, (i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(self<span style="color:#f92672">.</span>accelerator<span style="color:#f92672">.</span>num_processes <span style="color:#f92672">//</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size)
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><p>vLLM ƒë·ªìng v·ªã tr√≠ kh√¥ng c√≤n d·ª±a v√†o API REST ‚Äî n√≥ ch·∫°y tr·ª±c ti·∫øp trong b·ªô nh·ªõ v√† giao ti·∫øp th√¥ng qua c√°c l·ªánh g·ªçi Python g·ªëc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    orig_size <span style="color:#f92672">=</span> len(prompts_text)
</span></span><span style="display:flex;"><span>    gathered_prompts <span style="color:#f92672">=</span> [<span style="color:#66d9ef">None</span> <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(self<span style="color:#f92672">.</span>vllm_tensor_parallel_size)]
</span></span><span style="display:flex;"><span>    torch<span style="color:#f92672">.</span>distributed<span style="color:#f92672">.</span>all_gather_object(gathered_prompts, prompts_text, group<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>tp_group)
</span></span><span style="display:flex;"><span>    all_prompts_text <span style="color:#f92672">=</span> [p <span style="color:#66d9ef">for</span> sublist <span style="color:#f92672">in</span> gathered_prompts <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> sublist]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    all_prompts_text <span style="color:#f92672">=</span> prompts_text
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> profiling_context(self, <span style="color:#e6db74">&#34;vLLM.generate&#34;</span>):
</span></span><span style="display:flex;"><span>    all_outputs <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>llm<span style="color:#f92672">.</span>generate(all_prompts_text, sampling_params<span style="color:#f92672">=</span>sampling_params, use_tqdm<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>completion_ids <span style="color:#f92672">=</span> [output<span style="color:#f92672">.</span>token_ids <span style="color:#66d9ef">for</span> outputs <span style="color:#f92672">in</span> all_outputs <span style="color:#66d9ef">for</span> output <span style="color:#f92672">in</span> outputs<span style="color:#f92672">.</span>outputs]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>vllm_tensor_parallel_size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    local_rank_in_group <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>distributed<span style="color:#f92672">.</span>get_rank(group<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>tp_group)
</span></span><span style="display:flex;"><span>    tp_slice <span style="color:#f92672">=</span> slice(local_rank_in_group <span style="color:#f92672">*</span> orig_size, (local_rank_in_group <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> orig_size)
</span></span><span style="display:flex;"><span>    completion_ids <span style="color:#f92672">=</span> completion_ids[tp_slice]
</span></span></code></pre></div><p>ƒê·ªÉ s·ª≠ d·ª•ng thi·∫øt l·∫≠p n√†y, ch·ªâ c·∫ßn ƒë·∫∑t vllm_mode=&ldquo;colocate&rdquo; trong c·∫•u h√¨nh GRPO c·ªßa b·∫°n:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>training_args <span style="color:#f92672">=</span> GRPOConfig(
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>,
</span></span><span style="display:flex;"><span>    use_vllm<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>    vllm_mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;colocate&#34;</span>,
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><blockquote>
<p>L∆∞u √Ω: T√πy thu·ªôc v√†o k√≠ch th∆∞·ªõc m√¥ h√¨nh v√† y√™u c·∫ßu b·ªô nh·ªõ GPU t·ªïng th·ªÉ cho qu√° tr√¨nh hu·∫•n luy·ªán, b·∫°n c√≥ th·ªÉ c·∫ßn ƒëi·ªÅu ch·ªânh tham s·ªë vllm_gpu_memory_utilization trong <code>GRPOConfig</code> ƒë·ªÉ tr√°nh l·ªói s·ª≠ d·ª•ng kh√¥ng h·∫øt ho·∫∑c h·∫øt b·ªô nh·ªõ.</p></blockquote>
<h2 id="-tr√¨nh-b√†y-hi·ªáu-su·∫•t-trl-ƒë·ªìng-v·ªã-tr√≠-so-v·ªõi-trl-th√¥ng-th∆∞·ªùng">üìä Tr√¨nh b√†y: Hi·ªáu su·∫•t TRL ƒë·ªìng v·ªã tr√≠ so v·ªõi TRL th√¥ng th∆∞·ªùng</h2>
<p>ƒê·ªÉ ƒëo l∆∞·ªùng t√°c ƒë·ªông c·ªßa vi·ªác ƒë·ªìng v·ªã tr√≠, ch√∫ng t√¥i ƒë√£ ch·∫°y m·ªôt lo·∫°t c√°c th√≠ nghi·ªám so s√°nh <strong>ch·∫ø ƒë·ªô m√°y ch·ªß</strong> truy·ªÅn th·ªëng (trong ƒë√≥ vLLM ch·∫°y tr√™n m·ªôt GPU ri√™ng bi·ªát nh∆∞ m·ªôt m√°y ch·ªß ƒë·ªôc l·∫≠p) v·ªõi <strong>ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠</strong> m·ªõi (trong ƒë√≥ hu·∫•n luy·ªán v√† suy lu·∫≠n chia s·∫ª c√πng m·ªôt GPU).</p>
<p>·ªû <strong>ch·∫ø ƒë·ªô m√°y ch·ªß</strong>, ch·ªâ c√≥ 7 GPU ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ hu·∫•n luy·ªán v√¨ 1 GPU ƒë∆∞·ª£c d√†nh ri√™ng ho√†n to√†n cho m√°y ch·ªß suy lu·∫≠n vLLM.</p>
<p>·ªû <strong>ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠</strong>, t·∫•t c·∫£ 8 GPU ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ hu·∫•n luy·ªán ‚Äî tƒÉng k√≠ch th∆∞·ªõc l√¥ hi·ªáu qu·∫£ theo m·∫∑c ƒë·ªãnh.</p>
<p>ƒê·ªÉ ƒë·∫£m b·∫£o so s√°nh c√¥ng b·∫±ng, ch√∫ng t√¥i ƒë√£ <strong>chu·∫©n h√≥a th√¥ng l∆∞·ª£ng ·ªü ch·∫ø ƒë·ªô m√°y ch·ªß theo h·ªá s·ªë 8/7</strong>. ƒêi·ªÅu ch·ªânh n√†y t√≠nh ƒë·∫øn kh·∫£ nƒÉng hu·∫•n luy·ªán l·ªõn h∆°n ·ªü ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠ v√† cho ph√©p ch√∫ng t√¥i so s√°nh hai thi·∫øt l·∫≠p trong ƒëi·ªÅu ki·ªán hu·∫•n luy·ªán t∆∞∆°ng ƒë∆∞∆°ng.</p>
<h3 id="th√≠-nghi·ªám-1-m√¥-h√¨nh-15b--thay-ƒë·ªïi-k√≠ch-th∆∞·ªõc-l√¥">Th√≠ nghi·ªám 1: M√¥ h√¨nh 1.5B ‚Äî Thay ƒë·ªïi k√≠ch th∆∞·ªõc l√¥</h3>
<ul>
<li>Khi k√≠ch th∆∞·ªõc l√¥ tƒÉng l√™n, th√¥ng l∆∞·ª£ng ƒë∆∞·ª£c c·∫£i thi·ªán trong c·∫£ hai thi·∫øt l·∫≠p.</li>
<li><strong>Thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠ ƒë·∫°t t·ªëc ƒë·ªô nhanh h∆°n t·ªõi 1,43 l·∫ßn</strong> ·ªü k√≠ch th∆∞·ªõc l√¥ l·ªõn nh·∫•t.</li>
<li>C√°c l√¥ l·ªõn h∆°n t·∫≠n d·ª•ng t·ªët h∆°n b·ªô nh·ªõ GPU ƒë∆∞·ª£c chia s·∫ª ·ªü ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/small-b.png" alt="small-b"></li>
</ul>
<h3 id="th√≠-nghi·ªám-2-m√¥-h√¨nh-15b--thay-ƒë·ªïi-t√≠nh-song-song-tensor-tp">Th√≠ nghi·ªám 2: M√¥ h√¨nh 1.5B ‚Äî Thay ƒë·ªïi t√≠nh song song Tensor (TP)</h3>
<ul>
<li>Trong thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠, tƒÉng TP <strong>l√†m gi·∫£m hi·ªáu su·∫•t</strong>.</li>
<li>Ph√¢n m·∫£nh nhi·ªÅu h∆°n gi·ªõi thi·ªáu nhi·ªÅu chi ph√≠ giao ti·∫øp h∆°n ‚Äî ƒëi·ªÅu n√†y <strong>kh√¥ng l√Ω t∆∞·ªüng cho c√°c m√¥ h√¨nh nh·ªè h∆°n</strong>.</li>
<li><strong>K·∫øt lu·∫≠n</strong>: ƒê·ªëi v·ªõi c√°c m√¥ h√¨nh nh·ªè, h√£y tr√°nh ph√¢n m·∫£nh qu√° m·ª©c ·ªü ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/small-tp.png" alt="small-tp"></li>
</ul>
<h3 id="th√≠-nghi·ªám-3-m√¥-h√¨nh-7b--thay-ƒë·ªïi-k√≠ch-th∆∞·ªõc-l√¥">Th√≠ nghi·ªám 3: M√¥ h√¨nh 7B ‚Äî Thay ƒë·ªïi k√≠ch th∆∞·ªõc l√¥</h3>
<ul>
<li>M·ªôt l·∫ßn n·ªØa, ch·∫ø ƒë·ªô ƒë·ªìng v·ªã tr√≠ <strong>m·ªü r·ªông quy m√¥ t·ªët h∆°n v·ªõi k√≠ch th∆∞·ªõc l√¥</strong>.</li>
<li>M·ª©c tƒÉng ƒë·∫°t ƒë∆∞·ª£c <strong>t·ªëc ƒë·ªô nhanh h∆°n 1,35 l·∫ßn</strong> ·ªü l√¥ l·ªõn nh·∫•t ƒë∆∞·ª£c ki·ªÉm tra.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/med-b.png" alt="med-b"></li>
</ul>
<h3 id="th√≠-nghi·ªám-4-m√¥-h√¨nh-7b--thay-ƒë·ªïi-t√≠nh-song-song-tensor-tp">Th√≠ nghi·ªám 4: M√¥ h√¨nh 7B ‚Äî Thay ƒë·ªïi t√≠nh song song Tensor (TP)</h3>
<ul>
<li>Xu h∆∞·ªõng ng∆∞·ª£c l·∫°i t·ª´ m√¥ h√¨nh 1.5B.</li>
<li>V·ªõi 7B, <strong>nhi·ªÅu TP c·∫£i thi·ªán th√¥ng l∆∞·ª£ng h∆°n</strong>, ƒë·∫°t ƒë∆∞·ª£c <strong>t·ªëc ƒë·ªô nhanh h∆°n t·ªõi 1,73 l·∫ßn</strong>.</li>
<li><strong>C√°c m√¥ h√¨nh l·ªõn h∆°n ƒë∆∞·ª£c h∆∞·ªüng l·ª£i t·ª´ vi·ªác ph√¢n m·∫£nh</strong> trong thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/med-tp.png" alt="med-tp"></li>
</ul>
<h2 id="-m·ªü-r·ªông-quy-m√¥-l√™n-m√¥-h√¨nh-72b">üìä M·ªü r·ªông quy m√¥ l√™n m√¥ h√¨nh 72B</h2>
<p>Khi hu·∫•n luy·ªán c√°c m√¥ h√¨nh l·ªõn nh∆∞ <strong>Qwen2.5-Math-72B</strong>, ƒëi·ªÅu quan tr·ªçng l√† s·ª≠ d·ª•ng ƒë√∫ng chi·∫øn l∆∞·ª£c ƒë·ªÉ l√†m cho qu√° tr√¨nh hu·∫•n luy·ªán hi·ªáu qu·∫£, c√≥ th·ªÉ m·ªü r·ªông v√† ·ªïn ƒë·ªãnh tr√™n nhi·ªÅu GPU v√† n√∫t. Trong thi·∫øt l·∫≠p c·ªßa m√¨nh, ch√∫ng t√¥i ƒë√£ k·∫øt h·ª£p <strong>vLLM ƒë·ªìng v·ªã tr√≠</strong> v·ªõi m·ªôt s·ªë t·ªëi ∆∞u h√≥a ch√≠nh ƒë·ªÉ l√†m cho vi·ªác n√†y ho·∫°t ƒë·ªông hi·ªáu qu·∫£.</p>
<h3 id="ch·∫ø-ƒë·ªô-ng·ªß-trong-vllm">Ch·∫ø ƒë·ªô ng·ªß trong vLLM</h3>
<p>Khi s·ª≠ d·ª•ng hu·∫•n luy·ªán ƒë·ªìng v·ªã tr√≠, vi·ªác qu·∫£n l√Ω b·ªô nh·ªõ GPU l√† r·∫•t quan tr·ªçng ƒë·ªÉ c·∫£ hu·∫•n luy·ªán v√† suy lu·∫≠n c√≥ th·ªÉ ch·∫°y tr∆°n tru tr√™n c√πng m·ªôt thi·∫øt b·ªã. ƒê·ªÉ h·ªó tr·ª£ ƒëi·ªÅu n√†y, ch√∫ng t√¥i ƒë√£ th√™m API <code>sleep()</code> c·ªßa vLLM v√†o v√≤ng l·∫∑p hu·∫•n luy·ªán GRPO.</p>
<p>H√†m <code>sleep()</code> t·∫°m th·ªùi t·∫°m d·ª´ng c√¥ng c·ª• vLLM v√† gi·∫£i ph√≥ng b·ªô nh·ªõ GPU. N√≥ h·ªó tr·ª£ hai c·∫•p ƒë·ªô:</p>
<ul>
<li><strong>C·∫•p 1</strong>: D·ª° tr·ªçng s·ªë m√¥ h√¨nh t·ª´ GPU (gi·ªØ ch√∫ng trong b·ªô nh·ªõ CPU) v√† x√≥a b·ªô ƒë·ªám KV.
H·ªØu √≠ch khi c√πng m·ªôt m√¥ h√¨nh s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng l·∫°i s·ªõm.</li>
<li><strong>C·∫•p 2</strong>: D·ª° c·∫£ tr·ªçng s·ªë m√¥ h√¨nh v√† b·ªô ƒë·ªám KV ho√†n to√†n.
T·ªët nh·∫•t cho c√°c tr∆∞·ªùng h·ª£p m√† m√¥ h√¨nh s·∫Ω thay ƒë·ªïi ho·∫∑c s·∫Ω kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng l·∫°i ngay l·∫≠p t·ª©c.</li>
</ul>
<p>Trong GRPO, m√¥ h√¨nh ƒë∆∞·ª£c c·∫≠p nh·∫≠t sau m·ªói b∆∞·ªõc ‚Äî v√¨ v·∫≠y ch√∫ng t√¥i s·ª≠ d·ª•ng <strong>ch·∫ø ƒë·ªô ng·ªß C·∫•p 2</strong>.</p>
<p>L·ª£i √≠ch c·ªßa ch·∫ø ƒë·ªô ng·ªß C·∫•p 2:</p>
<ul>
<li><strong>T·ªëi ƒëa h√≥a b·ªô nh·ªõ GPU mi·ªÖn ph√≠</strong> ƒë·ªÉ hu·∫•n luy·ªán</li>
<li><strong>Tr√°nh tranh ch·∫•p b·ªô nh·ªõ</strong> gi·ªØa hu·∫•n luy·ªán v√† t·∫°o</li>
<li>Gi·ªØ cho ƒë·ªìng v·ªã tr√≠ hi·ªáu qu·∫£, ngay c·∫£ ƒë·ªëi v·ªõi c√°c m√¥ h√¨nh l·ªõn nh∆∞ Qwen2.5-72B</li>
</ul>
<p>S·ª± b·ªï sung nh·ªè n√†y t·∫°o ra m·ªôt <strong>s·ª± kh√°c bi·ªát l·ªõn</strong> trong vi·ªác cho ph√©p hu·∫•n luy·ªán ƒë·ªìng v·ªã tr√≠ tr∆°n tru v√† c√≥ th·ªÉ m·ªü r·ªông.</p>
<h3 id="t·ªëi-∆∞u-h√≥a-deepspeed">T·ªëi ∆∞u h√≥a DeepSpeed</h3>
<p>ƒê·ªÉ hu·∫•n luy·ªán c√°c m√¥ h√¨nh l·ªõn nh∆∞ Qwen2.5-72B, ch√∫ng t√¥i d·ª±a v√†o <strong>DeepSpeed ZeRO Stage 3</strong>, c√πng m·ªôt thi·∫øt l·∫≠p ƒë∆∞·ª£c s·ª≠ d·ª•ng trong TRL th√¥ng th∆∞·ªùng.</p>
<p>ZeRO gi√∫p m·ªü r·ªông c√°c m√¥ h√¨nh l·ªõn b·∫±ng c√°ch ph√¢n ph·ªëi b·ªô nh·ªõ tr√™n c√°c GPU. Stage 3 ƒëi xa h∆°n b·∫±ng c√°ch ph√¢n v√πng:</p>
<ul>
<li>Tr·ªçng s·ªë m√¥ h√¨nh</li>
<li>ƒê·ªô d·ªëc</li>
<li>Tr·∫°ng th√°i tr√¨nh t·ªëi ∆∞u h√≥a</li>
</ul>
<p>ƒêi·ªÅu n√†y r·∫•t c·∫ßn thi·∫øt cho c√°c m√¥ h√¨nh kh√¥ng th·ªÉ ph√π h·ª£p v·ªõi m·ªôt GPU duy nh·∫•t. V·ªõi ZeRO Stage 3, m·ªói GPU ch·ªâ x·ª≠ l√Ω m·ªôt ph·∫ßn c·ªßa m√¥ h√¨nh.</p>
<p>C√°c t√πy ch·ªçn b·ªï sung m√† ch√∫ng t√¥i k√≠ch ho·∫°t:</p>
<ul>
<li><code>&quot;offload_optimizer&quot;: {&quot;device&quot;: &quot;cpu&quot;}</code>
Chuy·ªÉn tr·∫°ng th√°i tr√¨nh t·ªëi ∆∞u h√≥a sang CPU ƒë·ªÉ gi·∫£i ph√≥ng b·ªô nh·ªõ GPU ‚Äî r·∫•t quan tr·ªçng trong thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠.</li>
<li><code>&quot;overlap_comm&quot;: true</code>
Cho ph√©p giao ti·∫øp ch·ªìng l√™n t√≠nh to√°n, tƒÉng t·ªëc qu√° tr√¨nh hu·∫•n luy·ªán.</li>
<li><code>&quot;contiguous_gradients&quot;: true</code>
Ph√¢n b·ªï ƒë·ªô d·ªëc trong m·ªôt kh·ªëi b·ªô nh·ªõ duy nh·∫•t, c·∫£i thi·ªán kh·∫£ nƒÉng truy c·∫≠p b·ªô nh·ªõ v√† gi·∫£m ph√¢n m·∫£nh.</li>
</ul>
<p>C√°c t·ªëi ∆∞u h√≥a n√†y gi√∫p <strong>hu·∫•n luy·ªán hi·ªáu qu·∫£ c√°c m√¥ h√¨nh 72B</strong> v√† ƒë·∫£m b·∫£o ƒë·ªìng v·ªã tr√≠ v·∫´n ·ªïn ƒë·ªãnh trong ƒëi·ªÅu ki·ªán h·∫°n ch·∫ø b·ªô nh·ªõ.</p>
<h3 id="t√≠ch-h·ª£p-tƒÉng-t·ªëc">T√≠ch h·ª£p tƒÉng t·ªëc</h3>
<p>Nh∆∞ ƒë∆∞·ª£c khuy·∫øn ngh·ªã trong TRL, ch√∫ng t√¥i s·ª≠ d·ª•ng <strong>Accelerate</strong>, m·ªôt th∆∞ vi·ªán nh·∫π gi√∫p ƒë∆°n gi·∫£n h√≥a qu√° tr√¨nh hu·∫•n luy·ªán ph√¢n t√°n. N√≥ x·ª≠ l√Ω:</p>
<ul>
<li>Kh·ªüi ch·∫°y c√¥ng vi·ªác ƒëa GPU v√† ƒëa n√∫t</li>
<li>T√≠nh song song d·ªØ li·ªáu</li>
<li>T√≠ch l≈©y ƒë·ªô d·ªëc</li>
<li>T·∫£i d·ªØ li·ªáu ph√¢n t√°n</li>
</ul>
<p>ƒêi·ªÅu n√†y l√†m cho thi·∫øt l·∫≠p s·∫°ch s·∫Ω, c√≥ th·ªÉ m·ªü r·ªông v√† d·ªÖ b·∫£o tr√¨.</p>
<h3 id="th√≠-nghi·ªám-5-qwen25-math-72b--th√¥ng-l∆∞·ª£ng-ƒë·ªô-ch√≠nh-x√°c-v√†-k·∫øt-qu·∫£-ƒëi·ªÉm-chu·∫©n">Th√≠ nghi·ªám 5: Qwen2.5-Math-72B ‚Äî Th√¥ng l∆∞·ª£ng, ƒë·ªô ch√≠nh x√°c v√† k·∫øt qu·∫£ ƒëi·ªÉm chu·∫©n</h3>
<h4 id="th√¥ng-l∆∞·ª£ng">Th√¥ng l∆∞·ª£ng</h4>
<p>Ngay c·∫£ v·ªõi <strong>√≠t h∆°n 4 GPU</strong>, <strong>thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠ nhanh h∆°n ~1,26 l·∫ßn</strong> so v·ªõi TRL th√¥ng th∆∞·ªùng.
ƒêi·ªÅu n√†y l√†m n·ªïi b·∫≠t hi·ªáu qu·∫£ c·ªßa vi·ªác chia s·∫ª GPU th√¥ng minh h∆°n v√† l√†m s·∫°ch b·ªô nh·ªõ b·∫±ng c√°ch s·ª≠ d·ª•ng <code>sleep()</code>.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/72b-tput.png" alt="72b-tput"></p>
<h4 id="ƒë∆∞·ªùng-cong-ph·∫ßn-th∆∞·ªüng">ƒê∆∞·ªùng cong ph·∫ßn th∆∞·ªüng</h4>
<p>C√°c ƒë·ªì th·ªã ph·∫ßn th∆∞·ªüng hu·∫•n luy·ªán cho thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠ v√† th√¥ng th∆∞·ªùng <strong>g·∫ßn nh∆∞ gi·ªëng h·ªát nhau</strong>, ch·ª©ng minh r·∫±ng:</p>
<ul>
<li><strong>Hu·∫•n luy·ªán ƒë·ªìng v·ªã tr√≠ b·∫£o to√†n ƒë·ªô ch√≠nh x√°c</strong></li>
<li><strong>Kh√¥ng c√≥ h·ªìi quy trong hi·ªáu su·∫•t h·ªçc t·∫≠p c·ªßa m√¥ h√¨nh</strong>
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/blogpost_72b_rewards.png" alt="blogpost_72b_rewards"></li>
</ul>
<h4 id="ƒëi·ªÉm-chu·∫©n-math500">ƒêi·ªÉm chu·∫©n Math500</h4>
<p>Ch√∫ng t√¥i ƒë√£ ƒë√°nh gi√° ba m√¥ h√¨nh: <strong>M√¥ h√¨nh c∆° s·ªü</strong>, <strong>M√¥ h√¨nh ƒë∆∞·ª£c hu·∫•n luy·ªán ƒë·ªìng v·ªã tr√≠</strong>, <strong>M√¥ h√¨nh ƒë∆∞·ª£c hu·∫•n luy·ªán th√¥ng th∆∞·ªùng</strong> tr√™n ƒëi·ªÉm chu·∫©n Math500. C·∫£ hai m√¥ h√¨nh ƒë∆∞·ª£c hu·∫•n luy·ªán <strong>ƒë·ªÅu v∆∞·ª£t tr·ªôi h∆°n so v·ªõi c∆° s·ªü</strong>, v√† <strong>m√¥ h√¨nh ƒë·ªìng v·ªã tr√≠ ho·∫°t ƒë·ªông ngang b·∫±ng</strong> v·ªõi m√¥ h√¨nh ƒë∆∞·ª£c hu·∫•n luy·ªán th√¥ng th∆∞·ªùng ‚Äî x√°c nh·∫≠n r·∫±ng ƒë·ªìng v·ªã tr√≠ kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu su·∫•t h·∫° ngu·ªìn.
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/vllm-colocate/blogpost_72b_math500.png" alt="blogpost_72b_math500"></p>
<h2 id="-th√°ch-th·ª©c--b√†i-h·ªçc-kinh-nghi·ªám--c√°c-b∆∞·ªõc-ti·∫øp-theo">üéì Th√°ch th·ª©c &amp; B√†i h·ªçc kinh nghi·ªám &amp; C√°c b∆∞·ªõc ti·∫øp theo</h2>
<p>Th√¥ng qua c√¥ng vi·ªác c·ªßa ch√∫ng t√¥i v·ªÅ vi·ªác m·ªü r·ªông quy m√¥ hu·∫•n luy·ªán GRPO v·ªõi vLLM ƒë·ªìng v·ªã tr√≠, ch√∫ng t√¥i ƒë√£ ƒë·ªëi m·∫∑t v·ªõi m·ªôt s·ªë th√°ch th·ª©c quan tr·ªçng v√† h·ªçc ƒë∆∞·ª£c nh·ªØng b√†i h·ªçc quan tr·ªçng v·ªÅ hi·ªáu qu·∫£, t√≠nh linh ho·∫°t v√† thi·∫øt k·∫ø h·ªá th·ªëng khi hu·∫•n luy·ªán c√°c m√¥ h√¨nh l·ªõn.</p>
<h3 id="th√°ch-th·ª©c">Th√°ch th·ª©c</h3>
<ul>
<li><strong>L·ªói song song Tensor trong vLLM ‚â• 0.8.0.</strong> T√≠nh song song Tensor (TP) v·ªõi external_launcher ƒë√£ ng·ª´ng ho·∫°t ƒë·ªông trong vLLM phi√™n b·∫£n 0.8.0 tr·ªü l√™n. ƒêi·ªÅu n√†y ƒë√£ ƒë∆∞·ª£c theo d√µi theo V·∫•n ƒë·ªÅ <!-- raw HTML omitted -->#15895<!-- raw HTML omitted -->. ƒê·ªÉ x√°c ƒë·ªãnh ƒëi·ªÉm ph√° v·ª°, ch√∫ng t√¥i ƒë√£ tu√¢n theo ph∆∞∆°ng ph√°p ƒë∆∞·ª£c m√¥ t·∫£ trong nh√† ph√°t tri·ªÉn vLLM n√†y <!-- raw HTML omitted -->b√†i ƒëƒÉng tr√™n blog<!-- raw HTML omitted -->, cung c·∫•p c√°c b√°nh xe cho m·ªçi cam k·∫øt. Sau khi chia ƒë√¥i, ch√∫ng t√¥i ƒë√£ x√°c ƒë·ªãnh cam k·∫øt ph√° v·ª° l√† <!-- raw HTML omitted -->cc10281<!-- raw HTML omitted -->. Nguy√™n nh√¢n g·ªëc r·ªÖ l√† t√≠nh x√°c ƒë·ªãnh ‚Äî c√°c phi√™n b·∫£n m·ªõi h∆°n y√™u c·∫ßu thi·∫øt l·∫≠p r√µ r√†ng h·∫°t gi·ªëng ng·∫´u nhi√™n. Sau khi h·∫°t gi·ªëng ƒë∆∞·ª£c thi·∫øt l·∫≠p, v·∫•n ƒë·ªÅ ƒë√£ bi·∫øn m·∫•t.</li>
<li><strong>L·ªói b·ªô ƒë·ªám ng·ªß C·∫•p 2.</strong> Ban ƒë·∫ßu, ch·∫ø ƒë·ªô ng·ªß c·∫•p 2 kh√¥ng ho·∫°t ƒë·ªông ch√≠nh x√°c khi ch√∫ng t√¥i c·ªë g·∫Øng t·∫£i l·∫°i tr·ªçng s·ªë b·∫±ng load_weights. V·∫•n ƒë·ªÅ n√†y ƒë√£ ƒë∆∞·ª£c theo d√µi trong <!-- raw HTML omitted -->V·∫•n ƒë·ªÅ #16564<!-- raw HTML omitted -->. V·∫•n ƒë·ªÅ l√† b·ªô ƒë·ªám m√¥ h√¨nh (nh∆∞ ch·∫°y trung b√¨nh/ph∆∞∆°ng sai trong BatchNorm) kh√¥ng ƒë∆∞·ª£c kh√¥i ph·ª•c sau khi th·ª©c d·∫≠y t·ª´ ch·∫ø ƒë·ªô ng·ªß. B·∫£n s·ª≠a l·ªói ƒëi k√®m v·ªõi PR <!-- raw HTML omitted -->#16889<!-- raw HTML omitted -->, ƒë√£ th√™m logic ƒë·ªÉ kh√¥i ph·ª•c r√µ r√†ng c√°c b·ªô ƒë·ªám khi th·ª©c d·∫≠y t·ª´ ch·∫ø ƒë·ªô ng·ªß c·∫•p 2. B√¢y gi·ªù ch√∫ng t√¥i gi·ªØ m·ªôt b·∫£n sao c·ªßa c√°c b·ªô ƒë·ªám g·ªëc v√† √°p d·ª•ng l·∫°i ch√∫ng theo c√°ch th·ªß c√¥ng sau khi t·∫£i tr·ªçng s·ªë m·ªõi.</li>
<li><strong>L·ªói ph√¢n ƒëo·∫°n khi tho√°t.</strong> V·∫´n c√≤n m·ªôt v·∫•n ƒë·ªÅ m·ªü v·ªõi ch·∫ø ƒë·ªô ng·ªß vLLM g√¢y ra l·ªói ph√¢n ƒëo·∫°n khi k·∫øt th√∫c qu√° tr√¨nh hu·∫•n luy·ªán khi ƒë√≥ng c√°c quy tr√¨nh. ƒêi·ªÅu n√†y ƒë√£ ƒë∆∞·ª£c b√°o c√°o trong V·∫•n ƒë·ªÅ <!-- raw HTML omitted -->#16993<!-- raw HTML omitted -->. S·ª± c·ªë n√†y x·∫£y ra trong qu√° tr√¨nh t·∫Øt m√°y nh∆∞ng kh√¥ng l√†m h·ªèng qu√° tr√¨nh hu·∫•n luy·ªán, v√¨ v·∫≠y ch√∫ng t√¥i ƒë√£ c√≥ th·ªÉ ho√†n th√†nh t·∫•t c·∫£ c√°c b·∫£n tr√¨nh di·ªÖn v√† th·ª≠ nghi·ªám ƒë∆∞·ª£c chia s·∫ª trong blog n√†y. Tuy nhi√™n, ch√∫ng t√¥i ƒëang ch·ªù b·∫£n s·ª≠a l·ªói ch√≠nh th·ª©c tr∆∞·ªõc khi t√≠ch h·ª£p sleep() ho√†n to√†n v√†o TRL ng∆∞·ª£c d√≤ng.</li>
</ul>
<p>Nh·ªØng th√°ch th·ª©c n√†y kh√¥ng ph·∫£i l√† nh·ªØng y·∫øu t·ªë c·∫£n tr·ªü, nh∆∞ng ch√∫ng ƒë√≤i h·ªèi g·ª° l·ªói c·∫©n th·∫≠n, ki·ªÉm so√°t phi√™n b·∫£n v√† hi·ªÉu s√¢u h∆°n v·ªÅ c√°ch vLLM qu·∫£n l√Ω b·ªô nh·ªõ v√† t√≠nh song song d∆∞·ªõi v·ªè b·ªçc.</p>
<h3 id="b√†i-h·ªçc-kinh-nghi·ªám">B√†i h·ªçc kinh nghi·ªám</h3>
<ul>
<li>Suy lu·∫≠n ƒë·ªìng v·ªã tr√≠ c·∫£i thi·ªán ƒë√°ng k·ªÉ vi·ªác s·ª≠ d·ª•ng GPU. B·∫±ng c√°ch cho ph√©p hu·∫•n luy·ªán v√† t·∫°o chia s·∫ª c√πng m·ªôt GPU, ch√∫ng ta lo·∫°i b·ªè th·ªùi gian nh√†n r·ªói v√† gi·∫£m y√™u c·∫ßu v·ªÅ ph·∫ßn c·ª©ng ‚Äî ƒë·∫°t ƒë∆∞·ª£c th√¥ng l∆∞·ª£ng cao h∆°n ngay c·∫£ v·ªõi √≠t GPU h∆°n.</li>
<li>T√≠nh nƒÉng sleep() c·ªßa vLLM r·∫•t c·∫ßn thi·∫øt cho ƒë·ªìng v·ªã tr√≠ quy m√¥ l·ªõn. N√≥ cho ph√©p ki·ªÉm so√°t chi ti·∫øt vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ, cho ph√©p hu·∫•n luy·ªán ho√†n to√†n thu h·ªìi b·ªô nh·ªõ GPU gi·ªØa c√°c b∆∞·ªõc t·∫°o ‚Äî m·ªôt y·∫øu t·ªë quan tr·ªçng cho c√°c m√¥ h√¨nh nh∆∞ Qwen2.5-72B.</li>
<li>DeepSpeed ZeRO Stage 3 r·∫•t c·∫ßn thi·∫øt cho vi·ªác hu·∫•n luy·ªán c√°c m√¥ h√¨nh l·ªõn. N√≥ cho ph√©p c√°c m·∫°ng c·ª±c k·ª≥ l·ªõn ph√π h·ª£p v·ªõi b·ªô nh·ªõ b·∫±ng c√°ch ph√¢n ph·ªëi tr·ªçng s·ªë m√¥ h√¨nh, ƒë·ªô d·ªëc v√† tr·∫°ng th√°i tr√¨nh t·ªëi ∆∞u h√≥a tr√™n nhi·ªÅu GPU. Theo kinh nghi·ªám c·ªßa ch√∫ng t√¥i, vi·ªác k√≠ch ho·∫°t contiguous_gradients ƒë√£ gi√∫p gi·∫£m ph√¢n m·∫£nh b·ªô nh·ªõ, trong khi vi·ªác d·ª° tr√¨nh t·ªëi ∆∞u h√≥a sang CPU ƒë√£ gi·∫£i ph√≥ng b·ªô nh·ªõ GPU quan tr·ªçng ‚Äî c·∫£ hai ƒë·ªÅu ƒë·∫∑c bi·ªát h·ªØu √≠ch trong thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠.</li>
<li>ƒê·ªìng v·ªã tr√≠ r·∫•t m·∫°nh m·∫Ω nh∆∞ng ƒëi k√®m v·ªõi s·ª± ƒë√°nh ƒë·ªïi. N√≥ ho·∫°t ƒë·ªông t·ªët nh·∫•t khi b·ªô nh·ªõ GPU ƒë∆∞·ª£c qu·∫£n l√Ω c·∫©n th·∫≠n, th∆∞·ªùng y√™u c·∫ßu ƒëi·ªÅu ch·ªânh th·ªß c√¥ng c√°c tham s·ªë s·ª≠ d·ª•ng b·ªô nh·ªõ nh∆∞ vllm_gpu_memory_utilization. M·∫∑c d√π n√≥ mang l·∫°i l·ª£i √≠ch th√¥ng l∆∞·ª£ng r√µ r√†ng v√† gi·∫£m th·ªùi gian GPU nh√†n r·ªói, ƒë·ªìng v·ªã tr√≠ c√≥ th·ªÉ kh√¥ng l√Ω t∆∞·ªüng cho c√°c m√¥ h√¨nh c√≥ ng√¢n s√°ch b·ªô nh·ªõ eo h·∫πp ho·∫∑c khi ph√¢n m·∫£nh b·ªô nh·ªõ kh√¥ng ƒë∆∞·ª£c ki·ªÉm so√°t t·ªët. Tuy nhi√™n, khi ƒë∆∞·ª£c th·ª±c hi·ªán ƒë√∫ng c√°ch, n√≥ s·∫Ω m·ªü ra nh·ªØng l·ª£i √≠ch hi·ªáu qu·∫£ ƒë√°ng k·ªÉ.</li>
<li>Kh·∫£ nƒÉng t∆∞∆°ng th√≠ch TP/DP, Accelerate v√† h·ªó tr·ª£ torchrun gi√∫p tri·ªÉn khai li·ªÅn m·∫°ch. M·∫∑c d√π ki·∫øn tr√∫c c∆° b·∫£n ph·ª©c t·∫°p, to√†n b·ªô h·ªá th·ªëng c√≥ th·ªÉ ƒë∆∞·ª£c kh·ªüi ch·∫°y v√† m·ªü r·ªông quy m√¥ v·ªõi c√°c c√¥ng c·ª• ph√¢n t√°n ti√™u chu·∫©n.</li>
<li>Hu·∫•n luy·ªán ƒë·ªìng v·ªã tr√≠ duy tr√¨ ch·∫•t l∆∞·ª£ng m√¥ h√¨nh. Tr√™n nhi·ªÅu ƒëi·ªÉm chu·∫©n (Math500, AIME24), thi·∫øt l·∫≠p ƒë·ªìng v·ªã tr√≠ v√† th√¥ng th∆∞·ªùng ƒë√£ t·∫°o ra k·∫øt qu·∫£ so s√°nh ƒë∆∞·ª£c, x√°c nh·∫≠n r·∫±ng hi·ªáu su·∫•t kh√¥ng b·ªã hy sinh cho hi·ªáu qu·∫£.</li>
</ul>
<h2 id="-k·∫øt-lu·∫≠n">‚úÖ K·∫øt lu·∫≠n</h2>
<p>B√†i ƒëƒÉng tr√™n blog n√†y ƒë√£ kh√°m ph√° c√°ch ƒë·ªìng v·ªã tr√≠ vLLM v·ªõi hu·∫•n luy·ªán GRPO m·ªü ra nh·ªØng l·ª£i √≠ch hi·ªáu qu·∫£ ƒë√°ng k·ªÉ khi hu·∫•n luy·ªán c√°c m√¥ h√¨nh ng√¥n ng·ªØ l·ªõn ‚Äî bao g·ªìm c·∫£ c√°c m√¥ h√¨nh l·ªõn nh∆∞ Qwen2.5-72B.</p>
<p>Theo truy·ªÅn th·ªëng, TRL ch·ªâ h·ªó tr·ª£ vLLM ·ªü ch·∫ø ƒë·ªô m√°y ch·ªß, y√™u c·∫ßu c√°c quy tr√¨nh v√† GPU ri√™ng bi·ªát cho suy lu·∫≠n, d·∫´n ƒë·∫øn l√£ng ph√≠ t√≠nh to√°n v√† th·ªùi gian nh√†n r·ªói. V·ªõi vi·ªác gi·ªõi thi·ªáu tr√¨nh kh·ªüi ch·∫°y b√™n ngo√†i c·ªßa vLLM v√† PR ƒë·ªìng v·ªã tr√≠ trong TRL <!-- raw HTML omitted -->PR #3394<!-- raw HTML omitted -->, gi·ªù ƒë√¢y ch√∫ng ta c√≥ th·ªÉ ch·∫°y hu·∫•n luy·ªán v√† suy lu·∫≠n trong c√πng m·ªôt nh√≥m quy tr√¨nh ph√¢n t√°n, tr√™n c√πng m·ªôt GPU, v·ªõi h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß cho TP, DP v√† Accelerate.</p>
<p>M·∫∑c d√π v·∫´n c√≤n nh·ªØng th√°ch th·ª©c ‚Äî ch·∫≥ng h·∫°n nh∆∞ l·ªói vLLM d√†nh ri√™ng cho phi√™n b·∫£n v√† c√°c tr∆∞·ªùng h·ª£p c·∫°nh nh∆∞ v·ªõi sleep() ‚Äî k·∫øt qu·∫£ t·ªïng th·ªÉ cho th·∫•y r·∫±ng GRPO ƒë·ªìng v·ªã tr√≠ l√† m·ªôt gi·∫£i ph√°p thi·∫øt th·ª±c, c√≥ th·ªÉ m·ªü r·ªông ƒë·ªÉ hu·∫•n luy·ªán hi·ªáu qu·∫£ c√°c m√¥ h√¨nh l·ªõn. Ch√∫ng t√¥i r·∫•t vui ƒë∆∞·ª£c ti·∫øp t·ª•c tinh ch·ªânh thi·∫øt l·∫≠p n√†y, t√≠ch h·ª£p c√°c t√≠nh nƒÉng nh∆∞ FSDP v√† th√∫c ƒë·∫©y gi·ªõi h·∫°n c·ªßa qu√° tr√¨nh hu·∫•n luy·ªán m√¥ h√¨nh l·ªõn ‚Äî l√†m cho n√≥ nhanh h∆°n, r·∫ª h∆°n v√† d·ªÖ ti·∫øp c·∫≠n h∆°n cho m·ªçi ng∆∞·ªùi x√¢y d·ª±ng th·∫ø h·ªá LLM ti·∫øp theo.</p>
<h2 id="-h√£y-d√πng-th·ª≠">‚úÖ H√£y d√πng th·ª≠!</h2>
<p>D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• ƒë·ªÉ th·ª≠ hu·∫•n luy·ªán GRPO v·ªõi vLLM ƒë·ªìng v·ªã tr√≠.</p>
<h3 id="-train_grpo_colocatepy">üìÑ <code>train_grpo_colocate.py</code></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> datasets <span style="color:#f92672">import</span> load_dataset
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> trl <span style="color:#f92672">import</span> GRPOConfig, GRPOTrainer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load dataset</span>
</span></span><span style="display:flex;"><span>dataset <span style="color:#f92672">=</span> load_dataset(<span style="color:#e6db74">&#34;trl-lib/tldr&#34;</span>, split<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;train&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Define the reward function</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reward_len</span>(completions, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [<span style="color:#f92672">-</span>abs(<span style="color:#ae81ff">20</span> <span style="color:#f92672">-</span> len(completion)) <span style="color:#66d9ef">for</span> completion <span style="color:#f92672">in</span> completions]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Define training arguments</span>
</span></span><span style="display:flex;"><span>training_args <span style="color:#f92672">=</span> GRPOConfig(
</span></span><span style="display:flex;"><span>    output_dir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Qwen2-0.5B-GRPO&#34;</span>,
</span></span><span style="display:flex;"><span>    logging_steps<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    use_vllm<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>    vllm_mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;colocate&#34;</span>,
</span></span><span style="display:flex;"><span>    vllm_tensor_parallel_size<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    vllm_gpu_memory_utilization<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>,
</span></span><span style="display:flex;"><span>    max_prompt_length<span style="color:#f92672">=</span><span style="color:#ae81ff">512</span>,
</span></span><span style="display:flex;"><span>    max_completion_length<span style="color:#f92672">=</span><span style="color:#ae81ff">1024</span>,
</span></span><span style="display:flex;"><span>    max_steps<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    num_generations<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>    num_train_epochs<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    per_device_train_batch_size<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>    push_to_hub<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>    report_to<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create and run the trainer</span>
</span></span><span style="display:flex;"><span>trainer <span style="color:#f92672">=</span> GRPOTrainer(
</span></span><span style="display:flex;"><span>    model<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Qwen/Qwen2-0.5B-Instruct&#34;</span>,
</span></span><span style="display:flex;"><span>    reward_funcs<span style="color:#f92672">=</span>reward_len,
</span></span><span style="display:flex;"><span>    args<span style="color:#f92672">=</span>training_args,
</span></span><span style="display:flex;"><span>    train_dataset<span style="color:#f92672">=</span>dataset,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>trainer<span style="color:#f92672">.</span>train()
</span></span></code></pre></div><h3 id="link-b√†i-vi·∫øt-g·ªëc"><a href="https://huggingface.co/blog/vllm-colocate">Link b√†i vi·∫øt g·ªëc</a></h3>


    <ul id="taxonomy" class="not-prose flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto">

      <li class="font-semibold my-4">Tags:</li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/ai/">Ai</a></li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/june-3-2025/">June 3, 2025</a></li>
        <li ><a class="py-2 px-6 border rounded-full hover:bg-zinc-100 active:bg-zinc-300" href="/tags/huggingface.co/">Huggingface.co</a></li>
    </ul>
</div>

    <footer id="content-footer" class="not-prose">

      

      <div id="author-box" class="my-8 md:my-14 border p-8 bg-zinc-100 rounded-2xl">

        <img class="w-20 h-20 rounded-full" src="" alt="">

        <h2 class="text-xl font-bold my-4">Writter by : </h2>

        <p class="mb-4"></p>

        <ul class="flex flex-wrap space-x-4">
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://facebook.com/luat.skyai/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
              </svg>
              <span class="ml-2">Facebook</span>
            </a>
          </li>
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://facebook.com/luat.skyai/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/>
              </svg>
              <span class="ml-2">Twitter</span>
            </a>
          </li>
          <li>
            <a class="flex items-center decoration-auto hover:underline" href="https://luat.skyai.vn/" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>

              </svg>
              <span class="ml-2">Instagram</span>
            </a>
          </li>

        </ul>
        
      </div>

      <div id="related-post" class="">

        <h2 class="text-xl md:text-2xl font-bold mb-6 md:mb-8">Recommended for You</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-06-03/37fcd4/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl">

			<img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/smolvla/SmolVLA_thumbnail.png" alt="SmolVLA- M√¥ h√¨nh Vision-Language-Action hi·ªáu qu·∫£ ƒë∆∞·ª£c ƒë√†o t·∫°o tr√™n D·ªØ li·ªáu C·ªông ƒë·ªìng Lerobot" style="width: 100%; height: 100%; object-fit: cover;">

	  </figure>

	<div class="p-6">

		<time datetime="2025-06-03T00:00:00&#43;00:00">Jun 03, 2025</time>

		<h3 class="my-4 text-2xl font-bold">SmolVLA- M√¥ h√¨nh Vision-Language-Action hi·ªáu qu·∫£ ƒë∆∞·ª£c ƒë√†o t·∫°o tr√™n D·ªØ li·ªáu C·ªông ƒë·ªìng Lerobot</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2"></p>

	</div>
</article><article class="relative group bg-zinc-100 hover:bg-blue-100 rounded-3xl">
	
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-05-28/c5139e/"></a>

	<figure class="w-full aspect-video overflow-hidden rounded-3xl">

			<img class="object-cover group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/liger-grpo/thumbnail.png" alt="Liger GRPO g·∫∑p TRL" style="width: 100%; height: 100%; object-fit: cover;">

	  </figure>

	<div class="p-6">

		<time datetime="2025-05-28T00:00:00&#43;00:00">May 28, 2025</time>

		<h3 class="my-4 text-2xl font-bold">Liger GRPO g·∫∑p TRL</h3>

		<p class="text-normal leading-normal text-zinc-500 line-clamp-2">B√†i vi·∫øt c·ªßa kh√°ch</p>

	</div>
</article>
          
        </div>
      </div>

    </footer>

  </article>

  
  <aside class="md:col-span-1"><div class="lg:sticky lg:top-8"><div class="rounded-2xl p-4 bg-zinc-100 mb-10">

		<img class="aspect-video rounded" src="/images/email-3249062_1280_by-Muhammad-Ribkhan-Pixabay.jpg" alt="Banner Email Marketing">

		<p class="text-right text-xs mt-2 leading-none text-zinc-500">Adversitiment</p>

</div><div class="space-y-6">

		<h2 class="font-bold text-xl mb-8">Recent Post</h2>

		<article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-08-21/58cbb2/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://www-cdn.anthropic.com/images/4zrzovbb/website/74409af25137110ac04cc39e4d5ea0a2fbcea421-1000x1000.svg" alt="Ph√°t tri·ªÉn c√°c bi·ªán ph√°p b·∫£o v·ªá h·∫°t nh√¢n cho AI th√¥ng qua quan h·ªá ƒë·ªëi t√°c c√¥ng t∆∞" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Ph√°t tri·ªÉn c√°c bi·ªán ph√°p b·∫£o v·ªá h·∫°t nh√¢n cho AI th√¥ng qua quan h·ªá ƒë·ªëi t√°c c√¥ng t∆∞</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-08-19/755ef6/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://qwenlm.github.io/img/logo.png" alt="Qwen-Image-Edit- Ch·ªânh s·ª≠a h√¨nh ·∫£nh v·ªõi ch·∫•t l∆∞·ª£ng v√† hi·ªáu qu·∫£ cao h∆°n" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Qwen-Image-Edit- Ch·ªânh s·ª≠a h√¨nh ·∫£nh v·ªõi ch·∫•t l∆∞·ª£ng v√† hi·ªáu qu·∫£ cao h∆°n</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-08-19/79f6ca/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://huggingface.co/blog/assets/claude-and-mcp/thumbnail.png" alt="T·∫°o ·∫£nh v·ªõi Claude v√† Hugging Face" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">T·∫°o ·∫£nh v·ªõi Claude v√† Hugging Face</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-08-17/418732/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://cms.mistral.ai/assets/920e56ee-25c5-439d-bd31-fbdf5c92c87f" alt="Le Chat l·∫∑n s√¢u h∆°n." style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Le Chat l·∫∑n s√¢u h∆°n.</h3>
	</div>
</article><article class="relative group flex flex-row">
	<a class="insert-link" href="https://aitoday.skyai.vn/posts/2025-08-16/464497/"></a>
	<figure class="basis-1/3 aspect-square overflow-hidden rounded-2xl bg-zinc-100">

		  <img class="object-cover h-full w-full group-hover:scale-105 transition duration-500 cursor-pointer" src="https://venturebeat.com/wp-content/uploads/2025/08/cfr0z3n_flat_illustration_minimalist_pointillism_gradients_re_cdcd477b-0b29-481d-b04e-ed930ec4dc51_2.png?w=700&amp;h=350&amp;crop=1" alt="Nh√† nghi√™n c·ª©u n√†y ƒë√£ bi·∫øn m√¥ h√¨nh tr·ªçng s·ªë m·ªü gpt-oss-20b c·ªßa OpenAI th√†nh m√¥ h√¨nh &#39;c∆° s·ªü&#39; phi l√Ω lu·∫≠n v·ªõi √≠t ƒëi·ªÅu ch·ªânh h∆°n, t·ª± do h∆°n" style="width: 100%; height: 100%; object-fit: cover;" style="width: 100%; height: 100%; object-fit: cover;">

	</figure>
	<div class="basis-2/3 self-center ml-4">
		<h3 class="font-bold group-hover:underline decoration-auto">Nh√† nghi√™n c·ª©u n√†y ƒë√£ bi·∫øn m√¥ h√¨nh tr·ªçng s·ªë m·ªü gpt-oss-20b c·ªßa OpenAI th√†nh m√¥ h√¨nh &#39;c∆° s·ªü&#39; phi l√Ω lu·∫≠n v·ªõi √≠t ƒëi·ªÅu ch·ªânh h∆°n, t·ª± do h∆°n</h3>
	</div>
</article>
		
	</div>

</div>
</aside>

</div>
  
</main>
  <footer class="bg-zinc-100 py-10 md:py-14"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">

  <div class="flex flex-wrap space-y-6 mb-4">

    <div class="w-full md:w-3/5 flex flex-col space-y-4 md:pr-8 lg:pr-10">

      <a class="flex items-center group" href="https://aitoday.skyai.vn/">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="mr-2 group-hover:animate-spin" viewBox="0 0 16 16">
          <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
          <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
        </svg>
        
        <span class="text-2xl font-semibold uppercase">AI Today - SkyAI</span>
      </a>

      <p class="font-semibold">
        Theo d√µi c√°c ti·∫øn b·ªô m·ªõi nh·∫•t v·ªÅ Tr√≠ tu·ªá nh√¢n t·∫°o.<br>Tr·ª±c ti·∫øp t·ª´ c√°c nh√† ph√°t h√†nh AI tr√™n th·∫ø gi·ªõi.
      </p>

      <p>ƒêem tr√≠ tu·ªá nh√¢n t·∫°o ƒë·∫øn m·ªçi ng∆∞·ªùi d√¢n, doanh nghi·ªáp Vi·ªát, g√≥p ph·∫ßn gi√∫p Vi·ªát Nam ph√°t tri·ªÉn m·∫°nh m·∫Ω trong k·ª∑ nguy√™n s·ªë. N·ªôi dung ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª± ƒë·ªông b·∫±ng m√°y.</p>

    </div>

    <div class="self-center flex flex-col w-full md:w-2/5">

<ul id="social-media" class="flex items-center space-x-4">
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.facebook.com/luat.skyai/" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
				<path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.twitter.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.github.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
			</svg>
		</a>
	</li>
	<li>
		<a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.instagram.com/#" target="_blank" rel="noopener noreferrer">
			<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
				  <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path>
			</svg>
		</a>
	</li>
</ul>

    </div>
    
  </div>

  <div class="my-8">
    <ul class="flex items-center space-x-4">
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/">Home</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="">About</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/tags/">Tags</a></li>
      
        <li><a class="decoration-auto hover:underline font-semibold" href="/tags/">Taxonomy</a></li>
      
    </ul>
  </div>

  <div class="border-t pt-4">

    <p class="text-sm">Copyright ¬© 2025. All rights reserved. <a href="https://home.skyai.vn/" target="_blank" rel="noopener">SkyAI.vn</a></p>

  </div>
  
</div>
</footer>
      <script defer src="/js/insertoggle.474f9b0e08021c6519cff4e46df14ccf148285b2d3a23d6321d6e10f25c291fb.js" integrity="sha256-R0&#43;bDggCHGUZz/TkbfFMzxSChbLToj1jIdbhDyXCkfs=" crossorigin="anonymous"></script>
</body>
</html>